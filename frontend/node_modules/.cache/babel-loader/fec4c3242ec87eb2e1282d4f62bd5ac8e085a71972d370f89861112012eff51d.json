{"ast":null,"code":"var _jsxFileName = \"/Users/ang/V_Hack_Ver4/frontend2/src/components/shared/FloatingCallButton.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Phone, X, ChevronUp, ChevronDown } from 'lucide-react';\nimport { useTheme } from '../ThemeContext';\nimport useGlobalCallStore from '../services/GlobalCallService';\nimport supabase from '../supabaseClient';\n\n/**\n * A floating call button that allows users to call doctors from anywhere in the app\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FloatingCallButton = () => {\n  _s();\n  const {\n    colors,\n    isDarkMode\n  } = useTheme();\n  const {\n    loadAvailableDoctors,\n    availableDoctors,\n    callDoctor,\n    showCallUI\n  } = useGlobalCallStore();\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedDoctor, setSelectedDoctor] = useState(null);\n\n  // Load available doctors when the component mounts\n  useEffect(() => {\n    const fetchDoctors = async () => {\n      setIsLoading(true);\n      await loadAvailableDoctors();\n      setIsLoading(false);\n    };\n    fetchDoctors();\n\n    // Set up interval to refresh doctors' availability every 30 seconds\n    const interval = setInterval(fetchDoctors, 30000);\n    return () => clearInterval(interval);\n  }, [loadAvailableDoctors]);\n\n  // Hide the expanded panel when call UI is shown\n  useEffect(() => {\n    if (showCallUI) {\n      setIsExpanded(false);\n    }\n  }, [showCallUI]);\n\n  // Handle call initiation\n  const handleCallDoctor = async doctor => {\n    setSelectedDoctor(doctor);\n    setIsLoading(true);\n    try {\n      // Double-check doctor availability with the server\n      const {\n        data,\n        error\n      } = await supabase.from('doctors').select('availability').eq('doctor_id', doctor.id).single();\n      if (error) throw error;\n      if (!data.availability) {\n        alert(`${doctor.name} is no longer available. Please try another doctor.`);\n        await loadAvailableDoctors(); // Refresh the list\n        setIsLoading(false);\n        return;\n      }\n\n      // Initiate the call\n      await callDoctor(doctor);\n      setIsExpanded(false);\n    } catch (error) {\n      console.error('Error initiating call:', error);\n      alert('Failed to connect with the doctor. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // If no doctors are available, don't show the button\n  if (availableDoctors.length === 0 && !isLoading) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-24 right-4 z-50 flex flex-col items-end\",\n    children: [isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4 p-3 rounded-xl shadow-lg animate-bounce-in transition-all duration-300 max-h-60 overflow-y-auto\",\n      style: {\n        backgroundColor: isDarkMode ? colors.cardBg : 'white',\n        boxShadow: `0 10px 25px -5px ${colors.primary}40`,\n        width: 220,\n        maxWidth: '90vw'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-2 flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-bold\",\n          style: {\n            color: colors.textPrimary\n          },\n          children: \"Available Doctors\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsExpanded(false),\n          className: \"p-1 rounded-full\",\n          style: {\n            backgroundColor: `${colors.primary}20`\n          },\n          children: /*#__PURE__*/_jsxDEV(X, {\n            size: 14,\n            style: {\n              color: colors.textSecondary\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-4 flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin\",\n          style: {\n            borderColor: `${colors.primary}40`,\n            borderTopColor: 'transparent'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this) : availableDoctors.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-2\",\n        children: availableDoctors.map(doctor => /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-full p-2 rounded-lg flex items-center transition-all duration-300 hover:shadow-md\",\n          style: {\n            backgroundColor: isDarkMode ? `${colors.primary}15` : `${colors.primary}10`,\n            boxShadow: (selectedDoctor === null || selectedDoctor === void 0 ? void 0 : selectedDoctor.id) === doctor.id ? `0 0 0 2px ${colors.primary}` : 'none'\n          },\n          onClick: () => handleCallDoctor(doctor),\n          disabled: isLoading,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-8 h-8 rounded-full mr-2 relative overflow-hidden flex-shrink-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: doctor.image,\n              alt: doctor.name,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2\",\n              style: {\n                backgroundColor: colors.success,\n                borderColor: isDarkMode ? colors.cardBg : 'white'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 text-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs font-medium truncate\",\n              style: {\n                color: colors.textPrimary\n              },\n              children: doctor.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs truncate\",\n              style: {\n                color: colors.textSecondary\n              },\n              children: doctor.specialty\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-1 p-1 rounded-full\",\n            style: {\n              backgroundColor: colors.success + '20'\n            },\n            children: /*#__PURE__*/_jsxDEV(Phone, {\n              size: 14,\n              style: {\n                color: colors.success\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 19\n          }, this)]\n        }, doctor.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-3 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs\",\n          style: {\n            color: colors.textSecondary\n          },\n          children: \"No doctors available right now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"w-14 h-14 rounded-full flex items-center justify-center shadow-lg relative transition-all duration-500 transform hover:scale-105\",\n      style: {\n        background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`,\n        boxShadow: `0 10px 25px -5px ${colors.primary}80`\n      },\n      onClick: () => setIsExpanded(!isExpanded),\n      children: [isExpanded ? /*#__PURE__*/_jsxDEV(ChevronDown, {\n        size: 24,\n        color: \"white\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Phone, {\n          size: 20,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-white mt-1 font-medium\",\n          children: \"Call\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), availableDoctors.length > 0 && !isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 flex items-center justify-center animate-pulse\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-white font-bold\",\n          children: availableDoctors.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes bounce-in {\n          0% { transform: scale(0.8); opacity: 0; }\n          70% { transform: scale(1.05); opacity: 1; }\n          100% { transform: scale(1); opacity: 1; }\n        }\n        .animate-bounce-in {\n          animation: bounce-in 0.5s ease-out forwards;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(FloatingCallButton, \"Cxqa5MtWwij+lqIxe6EYSmjo7Mg=\", false, function () {\n  return [useTheme, useGlobalCallStore];\n});\n_c = FloatingCallButton;\nexport default FloatingCallButton;\nvar _c;\n$RefreshReg$(_c, \"FloatingCallButton\");","map":{"version":3,"names":["React","useState","useEffect","Phone","X","ChevronUp","ChevronDown","useTheme","useGlobalCallStore","supabase","jsxDEV","_jsxDEV","FloatingCallButton","_s","colors","isDarkMode","loadAvailableDoctors","availableDoctors","callDoctor","showCallUI","isExpanded","setIsExpanded","isLoading","setIsLoading","selectedDoctor","setSelectedDoctor","fetchDoctors","interval","setInterval","clearInterval","handleCallDoctor","doctor","data","error","from","select","eq","id","single","availability","alert","name","console","length","className","children","style","backgroundColor","cardBg","boxShadow","primary","width","maxWidth","color","textPrimary","fileName","_jsxFileName","lineNumber","columnNumber","onClick","size","textSecondary","borderColor","borderTopColor","map","disabled","src","image","alt","success","specialty","background","accent","jsx","_c","$RefreshReg$"],"sources":["/Users/ang/V_Hack_Ver4/frontend2/src/components/shared/FloatingCallButton.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Phone, X, ChevronUp, ChevronDown } from 'lucide-react';\nimport { useTheme } from '../ThemeContext';\nimport useGlobalCallStore from '../services/GlobalCallService';\nimport supabase from '../supabaseClient';\n\n/**\n * A floating call button that allows users to call doctors from anywhere in the app\n */\nconst FloatingCallButton = () => {\n  const { colors, isDarkMode } = useTheme();\n  const { loadAvailableDoctors, availableDoctors, callDoctor, showCallUI } = useGlobalCallStore();\n  \n  const [isExpanded, setIsExpanded] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedDoctor, setSelectedDoctor] = useState(null);\n  \n  // Load available doctors when the component mounts\n  useEffect(() => {\n    const fetchDoctors = async () => {\n      setIsLoading(true);\n      await loadAvailableDoctors();\n      setIsLoading(false);\n    };\n    \n    fetchDoctors();\n    \n    // Set up interval to refresh doctors' availability every 30 seconds\n    const interval = setInterval(fetchDoctors, 30000);\n    \n    return () => clearInterval(interval);\n  }, [loadAvailableDoctors]);\n  \n  // Hide the expanded panel when call UI is shown\n  useEffect(() => {\n    if (showCallUI) {\n      setIsExpanded(false);\n    }\n  }, [showCallUI]);\n  \n  // Handle call initiation\n  const handleCallDoctor = async (doctor) => {\n    setSelectedDoctor(doctor);\n    setIsLoading(true);\n    \n    try {\n      // Double-check doctor availability with the server\n      const { data, error } = await supabase\n        .from('doctors')\n        .select('availability')\n        .eq('doctor_id', doctor.id)\n        .single();\n        \n      if (error) throw error;\n      \n      if (!data.availability) {\n        alert(`${doctor.name} is no longer available. Please try another doctor.`);\n        await loadAvailableDoctors(); // Refresh the list\n        setIsLoading(false);\n        return;\n      }\n      \n      // Initiate the call\n      await callDoctor(doctor);\n      setIsExpanded(false);\n    } catch (error) {\n      console.error('Error initiating call:', error);\n      alert('Failed to connect with the doctor. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // If no doctors are available, don't show the button\n  if (availableDoctors.length === 0 && !isLoading) {\n    return null;\n  }\n  \n  return (\n    <div className=\"fixed bottom-24 right-4 z-50 flex flex-col items-end\">\n      {/* Expanded panel showing available doctors */}\n      {isExpanded && (\n        <div \n          className=\"mb-4 p-3 rounded-xl shadow-lg animate-bounce-in transition-all duration-300 max-h-60 overflow-y-auto\"\n          style={{ \n            backgroundColor: isDarkMode ? colors.cardBg : 'white',\n            boxShadow: `0 10px 25px -5px ${colors.primary}40`,\n            width: 220,\n            maxWidth: '90vw'\n          }}\n        >\n          <div className=\"mb-2 flex justify-between items-center\">\n            <h3 className=\"text-sm font-bold\" style={{ color: colors.textPrimary }}>\n              Available Doctors\n            </h3>\n            <button \n              onClick={() => setIsExpanded(false)}\n              className=\"p-1 rounded-full\"\n              style={{ backgroundColor: `${colors.primary}20` }}\n            >\n              <X size={14} style={{ color: colors.textSecondary }} />\n            </button>\n          </div>\n          \n          {isLoading ? (\n            <div className=\"py-4 flex justify-center\">\n              <div className=\"w-6 h-6 border-2 border-t-transparent rounded-full animate-spin\" \n                   style={{ borderColor: `${colors.primary}40`, borderTopColor: 'transparent' }}></div>\n            </div>\n          ) : availableDoctors.length > 0 ? (\n            <div className=\"space-y-2\">\n              {availableDoctors.map(doctor => (\n                <button\n                  key={doctor.id}\n                  className=\"w-full p-2 rounded-lg flex items-center transition-all duration-300 hover:shadow-md\"\n                  style={{ \n                    backgroundColor: isDarkMode ? `${colors.primary}15` : `${colors.primary}10`,\n                    boxShadow: selectedDoctor?.id === doctor.id ? `0 0 0 2px ${colors.primary}` : 'none'\n                  }}\n                  onClick={() => handleCallDoctor(doctor)}\n                  disabled={isLoading}\n                >\n                  <div className=\"w-8 h-8 rounded-full mr-2 relative overflow-hidden flex-shrink-0\">\n                    <img src={doctor.image} alt={doctor.name} className=\"w-full h-full object-cover\" />\n                    <div className=\"absolute bottom-0 right-0 w-3 h-3 rounded-full border-2\" \n                        style={{ \n                          backgroundColor: colors.success,\n                          borderColor: isDarkMode ? colors.cardBg : 'white'\n                        }}></div>\n                  </div>\n                  <div className=\"flex-1 text-left\">\n                    <div className=\"text-xs font-medium truncate\" style={{ color: colors.textPrimary }}>\n                      {doctor.name}\n                    </div>\n                    <div className=\"text-xs truncate\" style={{ color: colors.textSecondary }}>\n                      {doctor.specialty}\n                    </div>\n                  </div>\n                  <div className=\"ml-1 p-1 rounded-full\" style={{ backgroundColor: colors.success + '20' }}>\n                    <Phone size={14} style={{ color: colors.success }} />\n                  </div>\n                </button>\n              ))}\n            </div>\n          ) : (\n            <div className=\"py-3 text-center\">\n              <p className=\"text-xs\" style={{ color: colors.textSecondary }}>\n                No doctors available right now\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n      \n      {/* Main floating call button */}\n      <button\n        className=\"w-14 h-14 rounded-full flex items-center justify-center shadow-lg relative transition-all duration-500 transform hover:scale-105\"\n        style={{ \n          background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`,\n          boxShadow: `0 10px 25px -5px ${colors.primary}80`\n        }}\n        onClick={() => setIsExpanded(!isExpanded)}\n      >\n        {isExpanded ? (\n          <ChevronDown size={24} color=\"white\" />\n        ) : (\n          <div className=\"flex flex-col items-center\">\n            <Phone size={20} color=\"white\" />\n            <div className=\"text-xs text-white mt-1 font-medium\">Call</div>\n          </div>\n        )}\n        \n        {availableDoctors.length > 0 && !isExpanded && (\n          <div className=\"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 flex items-center justify-center animate-pulse\">\n            <span className=\"text-xs text-white font-bold\">{availableDoctors.length}</span>\n          </div>\n        )}\n      </button>\n      \n      <style jsx>{`\n        @keyframes bounce-in {\n          0% { transform: scale(0.8); opacity: 0; }\n          70% { transform: scale(1.05); opacity: 1; }\n          100% { transform: scale(1); opacity: 1; }\n        }\n        .animate-bounce-in {\n          animation: bounce-in 0.5s ease-out forwards;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default FloatingCallButton;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}