{"ast":null,"code":"var _jsxFileName = \"/Users/ang/V_Hack_Ver2/frontend/src/components/screens/ConnectScreen.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Menu, MessageCircle, Video, Search, Bell, ChevronRight, Clock, Phone } from \"lucide-react\";\nimport MessageDialog from '../screens/MessageDialog';\nimport VideoCallScreen from '../screens/VideoCallScreen';\nimport { useTheme } from '../ThemeContext';\nimport webRTCService from '../services/WebRTCService';\n\n// Create enhanced DoctorCard component directly in this file\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DoctorCard = ({\n  name,\n  specialty,\n  image,\n  availability,\n  colors,\n  rating,\n  onConnectClick,\n  isConnecting\n}) => {\n  _s();\n  const isAvailableNow = availability.includes('Available') && !availability.includes('in');\n  const [isHovered, setIsHovered] = useState(false);\n  const {\n    isDarkMode\n  } = useTheme();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 rounded-2xl bg-white shadow-lg border border-blue-50 min-w-[180px] transform transition-all duration-500 hover:shadow-xl dark-mode-transition\",\n    style: {\n      backgroundColor: isDarkMode ? colors.cardBg : 'white',\n      borderColor: isDarkMode ? `${colors.primary}30` : 'rgba(219, 234, 254, 1)',\n      boxShadow: isHovered ? `0 20px 25px -5px ${colors.primary}30, 0 10px 10px -5px ${colors.accent}20` : `0 10px 15px -3px ${colors.primary}20`,\n      transform: isHovered ? 'translateY(-8px) scale(1.02)' : 'translateY(0) scale(1)'\n    },\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-14 h-14 rounded-full shadow-md mr-3 relative overflow-hidden transition-all duration-300\",\n        style: {\n          boxShadow: `0 0 15px ${colors.primary}30`,\n          transform: isHovered ? 'scale(1.05)' : 'scale(1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: image,\n          alt: name,\n          className: \"w-full h-full rounded-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white animate-pulse\",\n          style: {\n            backgroundColor: isConnecting ? colors.accent : isAvailableNow ? colors.success : colors.warning,\n            borderColor: isDarkMode ? colors.cardBg : 'white'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-sm dark-mode-transition\",\n          style: {\n            color: colors.textPrimary\n          },\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs dark-mode-transition\",\n          style: {\n            color: colors.textSecondary\n          },\n          children: specialty\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), rating && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mt-1\",\n          children: [...Array(5)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-2 h-2 rounded-full mr-1 dark-mode-transition\",\n            style: {\n              backgroundColor: i < rating ? colors.primary : isDarkMode ? colors.darkBg : colors.background\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3 h-3 mr-2 rounded-full animate-pulse\",\n        style: {\n          backgroundColor: isConnecting ? colors.accent : isAvailableNow ? colors.success : colors.warning\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs font-medium\",\n        style: {\n          color: isConnecting ? colors.accent : isAvailableNow ? colors.success : colors.warning\n        },\n        children: isConnecting ? \"Connecting...\" : availability\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"w-full p-2 rounded-lg text-xs font-medium shadow-md transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1\",\n      style: {\n        background: isConnecting ? `linear-gradient(135deg, ${colors.accent}, ${colors.accentAlt})` : isAvailableNow ? `linear-gradient(135deg, ${colors.primary}, ${colors.accent})` : isDarkMode ? `linear-gradient(135deg, ${colors.darkBg}, ${colors.cardBg})` : `linear-gradient(135deg, ${colors.background}, white)`,\n        color: isConnecting || isAvailableNow ? 'white' : colors.primary,\n        border: isConnecting || isAvailableNow ? 'none' : `1px solid ${colors.primary}30`,\n        boxShadow: isConnecting || isAvailableNow ? `0 8px 15px -3px ${colors.primary}40` : `0 4px 6px -1px ${colors.primary}20`\n      },\n      onClick: onConnectClick,\n      children: isConnecting ? 'Disconnect' : isAvailableNow ? 'Connect Now' : 'Schedule'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n\n// Enhanced Message Card component\n_s(DoctorCard, \"skhfBss4xQAachqEfhQnTQpUPqI=\", false, function () {\n  return [useTheme];\n});\n_c = DoctorCard;\nconst MessageCard = ({\n  doctor,\n  message,\n  time,\n  unread,\n  colors\n}) => {\n  _s2();\n  const [isHovered, setIsHovered] = useState(false);\n  const {\n    isDarkMode\n  } = useTheme();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 rounded-2xl bg-white shadow-lg border border-blue-50 transition-all duration-500 relative overflow-hidden dark-mode-transition\",\n    style: {\n      backgroundColor: isDarkMode ? colors.cardBg : 'white',\n      borderColor: isDarkMode ? `${colors.primary}30` : 'rgba(219, 234, 254, 1)',\n      boxShadow: isHovered ? `0 15px 25px -5px ${colors.primary}30` : `0 10px 15px -3px ${colors.primary}20`,\n      transform: isHovered ? 'translateX(5px)' : 'translateX(0)',\n      borderLeft: unread ? `4px solid ${colors.primary}` : '4px solid transparent'\n    },\n    onMouseEnter: () => setIsHovered(true),\n    onMouseLeave: () => setIsHovered(false),\n    children: [unread && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 right-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-3 h-3 m-2 rounded-full animate-pulse\",\n        style: {\n          backgroundColor: colors.primary\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10 h-10 rounded-full shadow-md mr-3 relative overflow-hidden flex items-center justify-center\",\n        style: {\n          background: `linear-gradient(135deg, ${colors.primary}40, ${colors.accent}30)`,\n          boxShadow: `0 0 15px ${colors.primary}30`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-bold\",\n          style: {\n            color: colors.primary\n          },\n          children: doctor.split(' ')[1][0]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"font-semibold text-sm dark-mode-transition\",\n          style: {\n            color: colors.textPrimary\n          },\n          children: doctor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs dark-mode-transition\",\n          style: {\n            color: colors.textSecondary\n          },\n          children: time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n        size: 18,\n        className: \"transition-opacity duration-300\",\n        style: {\n          color: colors.textSecondary,\n          opacity: isHovered ? 1 : 0.5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm ml-13 pl-13 dark-mode-transition\",\n      style: {\n        color: unread ? colors.textPrimary : colors.textSecondary,\n        fontWeight: unread ? '500' : '400',\n        marginLeft: '3.25rem'\n      },\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n\n// Main ConnectScreen component\n_s2(MessageCard, \"skhfBss4xQAachqEfhQnTQpUPqI=\", false, function () {\n  return [useTheme];\n});\n_c2 = MessageCard;\nconst ConnectScreen = ({\n  colors,\n  setActiveScreen\n}) => {\n  _s3();\n  const {\n    isDarkMode\n  } = useTheme();\n  const [searchFocused, setSearchFocused] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [notifications, setNotifications] = useState(3);\n  const [filterActive, setFilterActive] = useState(false);\n\n  // Modal states\n  const [showMessageDialog, setShowMessageDialog] = useState(false);\n  const [showVideoCall, setShowVideoCall] = useState(false);\n  const [selectedDoctor, setSelectedDoctor] = useState(null);\n  const [connectingDoctor, setConnectingDoctor] = useState(null);\n  const [schedulingDoctor, setSchedulingDoctor] = useState(null); // New state for scheduling vs connecting\n  const [readyToConnect, setReadyToConnect] = useState(false); // New state to control when connections can be made\n\n  // Doctor mode toggle for testing\n  const [isDoctorMode, setIsDoctorMode] = useState(localStorage.getItem('is_doctor') === 'true');\n\n  // Enhanced notification system\n  const [toastQueue, setToastQueue] = useState([]);\n  const [activeToast, setActiveToast] = useState(null);\n\n  // Incoming call notification\n  const [incomingCallInfo, setIncomingCallInfo] = useState(null);\n  const [ringtoneAudio, setRingtoneAudio] = useState(null);\n  const [autoAcceptTimer, setAutoAcceptTimer] = useState(null);\n\n  // Debug counter for incoming calls - new\n  const [incomingCallCounter, setIncomingCallCounter] = useState(0);\n\n  // Ref to track previous video call state\n  const prevShowVideoCall = useRef(showVideoCall);\n\n  // Sample doctors data\n  const doctors = [{\n    id: 1,\n    name: \"Dr. Johnson\",\n    specialty: \"Cardiologist\",\n    image: \"/User_1.png\",\n    availability: \"Available now\",\n    rating: 5\n  }, {\n    id: 2,\n    name: \"Dr. Smith\",\n    specialty: \"Primary Care\",\n    image: \"/User_2.jpg\",\n    availability: \"Available in 15m\",\n    rating: 4\n  }, {\n    id: 3,\n    name: \"Dr. Garcia\",\n    specialty: \"Endocrinologist\",\n    image: \"/User_3.png\",\n    availability: \"Available tomorrow\",\n    rating: 5\n  }, {\n    id: 4,\n    name: \"Dr. Chen\",\n    specialty: \"Neurologist\",\n    image: \"/User_4.png\",\n    availability: \"Available in 2h\",\n    rating: 4\n  }];\n\n  // Toggle doctor mode status\n  useEffect(() => {\n    localStorage.setItem('is_doctor', isDoctorMode ? 'true' : 'false');\n    if (isDoctorMode && webRTCService.socket && webRTCService.socket.connected) {\n      // Register as doctor-1\n      webRTCService.socket.emit('register', 'doctor-1');\n      console.log('Registered as doctor-1 via toggle');\n    }\n  }, [isDoctorMode]);\n\n  // DEBUG: Log incoming call info whenever it changes - new\n  useEffect(() => {\n    if (incomingCallInfo) {\n      console.log('INCOMING CALL INFO UPDATED:', incomingCallInfo);\n    }\n  }, [incomingCallInfo]);\n\n  // Initialize WebRTC when component mounts\n  useEffect(() => {\n    // Generate a unique ID for the current user instance\n    // This ensures each browser instance has a different ID\n    const generateUniqueId = () => {\n      // Check if we already have an ID stored\n      const storedId = localStorage.getItem('user_instance_id');\n      if (storedId) {\n        return storedId;\n      }\n\n      // Generate a new random ID and store it\n      const newId = 'user-' + Math.random().toString(36).substring(2, 15);\n      localStorage.setItem('user_instance_id', newId);\n      return newId;\n    };\n    const currentUserId = generateUniqueId();\n    console.log('Initializing with user ID:', currentUserId);\n\n    // Set up WebRTC callbacks\n    const callbacks = {\n      onIncomingCall: callerId => {\n        // Increment our debug counter - new\n        setIncomingCallCounter(prev => prev + 1);\n\n        // Find which doctor is calling\n        const callingDoctor = doctors.find(doc => `doctor-${doc.id}` === callerId);\n        if (callingDoctor) {\n          console.log('Incoming call from doctor detected:', callingDoctor.name);\n\n          // Set the connecting doctor\n          setConnectingDoctor(callingDoctor);\n          setSelectedDoctor(callingDoctor);\n\n          // Use the enhanced notification system\n          displayIncomingCallAlert(callingDoctor);\n\n          // NEW: Force a notification if the previous one didn't show up\n          setTimeout(() => {\n            console.log('Checking if notification is visible...');\n            // If we don't see a notification after 500ms, force it again\n            if (!incomingCallInfo) {\n              console.log('Forcing notification display...');\n              displayIncomingCallAlert(callingDoctor);\n            }\n          }, 500);\n        } else {\n          // Handle the case where we can't find the doctor\n          console.warn('Received call from unknown doctor ID:', callerId);\n          // Create a generic doctor object\n          const unknownDoctor = {\n            id: 999,\n            name: \"Unknown Doctor\",\n            specialty: \"Medical Professional\",\n            image: \"/User_1.png\",\n            availability: \"Available now\",\n            rating: 5\n          };\n          setConnectingDoctor(unknownDoctor);\n          setSelectedDoctor(unknownDoctor);\n          displayIncomingCallAlert(unknownDoctor);\n        }\n      },\n      onUserNotOnline: userId => {\n        // Try to find which doctor this userId belongs to\n        const doctorId = userId.replace('doctor-', '');\n        const doctor = doctors.find(doc => doc.id.toString() === doctorId);\n        if (doctor) {\n          displayToast(`${doctor.name} is not available right now. Please try again later.`);\n        } else {\n          displayToast('The selected doctor is not available right now.');\n        }\n\n        // Reset connecting state\n        setConnectingDoctor(null);\n      }\n    };\n\n    // Get the server URL from environment variable if available\n    const serverUrl = process.env.REACT_APP_SIGNALING_SERVER || null;\n\n    // Initialize WebRTC service\n    webRTCService.initialize(currentUserId, callbacks, serverUrl);\n\n    // If this browser is in doctor mode, register with doctor ID after a short delay\n    if (localStorage.getItem('is_doctor') === 'true') {\n      setTimeout(() => {\n        if (webRTCService.socket && webRTCService.socket.connected) {\n          webRTCService.socket.emit('register', 'doctor-1');\n          console.log('Registered as doctor-1 on initialization');\n        }\n      }, 1000);\n    }\n\n    // Add delay before allowing connections to ensure proper registration with the server\n    setTimeout(() => {\n      setReadyToConnect(true);\n    }, 2000);\n\n    // Periodically re-register to ensure connection\n    const registerInterval = setInterval(() => {\n      if (webRTCService.socket && webRTCService.socket.connected) {\n        // Always register with user ID\n        webRTCService.socket.emit('register', currentUserId);\n\n        // If in doctor mode, also register with doctor ID\n        if (localStorage.getItem('is_doctor') === 'true') {\n          webRTCService.socket.emit('register', 'doctor-1');\n          console.log('Re-registering as doctor-1');\n        }\n      }\n    }, 5000); // Every 5 seconds\n\n    // ADDITIONAL DEBUG: Add direct socket listener for incoming calls - new\n    if (webRTCService.socket) {\n      webRTCService.socket.on('incoming-call', ({\n        callerUserId\n      }) => {\n        console.log('DIRECT SOCKET: Incoming call detected from:', callerUserId);\n      });\n    }\n\n    // Clean up on unmount\n    return () => {\n      clearInterval(registerInterval);\n      webRTCService.disconnect();\n    };\n  }, []); // Only run once when component mounts\n\n  // FIXED: Enhanced incoming call notification display\n  const displayIncomingCallAlert = doctor => {\n    console.log('Displaying incoming call alert for doctor:', doctor.name);\n\n    // Clear existing toasts to prevent overlap\n    setActiveToast(null);\n    setToastQueue([]);\n\n    // Stop any previous ringtone\n    if (ringtoneAudio) {\n      try {\n        ringtoneAudio.pause();\n        ringtoneAudio.currentTime = 0;\n      } catch (e) {\n        console.error('Error stopping previous ringtone:', e);\n      }\n      setRingtoneAudio(null);\n    }\n\n    // Clear any previous auto-accept timer\n    if (autoAcceptTimer) {\n      clearTimeout(autoAcceptTimer);\n      setAutoAcceptTimer(null);\n    }\n\n    // Create a more prominent incoming call notification as a state variable\n    setIncomingCallInfo({\n      doctor: doctor,\n      timestamp: Date.now(),\n      id: Math.random().toString(36).substring(2, 9) // Add a unique ID\n    });\n\n    // Play sound effect if available (add a ringtone to your public folder)\n    try {\n      const audio = new Audio('/song1.mp3');\n      audio.loop = true;\n      audio.volume = 0.7; // Set volume to 70%\n\n      // Use a promise to handle play\n      const playPromise = audio.play();\n      if (playPromise !== undefined) {\n        playPromise.then(() => {\n          console.log('Ringtone playing successfully');\n          setRingtoneAudio(audio);\n        }).catch(e => {\n          console.log('Could not play notification sound:', e);\n          // Try alternative method if autoplay is blocked\n          document.addEventListener('click', function audioUnlock() {\n            audio.play().catch(e => console.log('Still cannot play audio:', e));\n            document.removeEventListener('click', audioUnlock);\n          });\n        });\n      }\n    } catch (error) {\n      console.log('Could not initialize ringtone:', error);\n    }\n\n    // Auto-accept call after 15 seconds if not manually handled\n    const timer = setTimeout(() => {\n      if (incomingCallInfo) {\n        console.log('Auto-accepting call after timeout');\n        acceptIncomingCall(doctor);\n      }\n    }, 15000); // Increased to 15 seconds for better user experience\n\n    // Store timer reference to clear it later\n    setAutoAcceptTimer(timer);\n\n    // Also show a toast notification as a backup\n    displayToast(`Incoming call from ${doctor.name}`);\n  };\n\n  // Accept incoming call handler\n  const acceptIncomingCall = doctor => {\n    console.log('Accepting incoming call from:', doctor === null || doctor === void 0 ? void 0 : doctor.name);\n\n    // Stop ringtone\n    if (ringtoneAudio) {\n      try {\n        ringtoneAudio.pause();\n        ringtoneAudio.currentTime = 0;\n      } catch (e) {\n        console.error('Error stopping ringtone:', e);\n      }\n      setRingtoneAudio(null);\n    }\n\n    // Clear auto-accept timer\n    if (autoAcceptTimer) {\n      clearTimeout(autoAcceptTimer);\n      setAutoAcceptTimer(null);\n    }\n\n    // Clear the incoming call notification\n    setIncomingCallInfo(null);\n\n    // Show video call screen\n    setShowVideoCall(true);\n\n    // Show a confirmation toast\n    displayToast(`Connected with ${doctor.name}`);\n  };\n\n  // Reject incoming call handler\n  const rejectIncomingCall = () => {\n    console.log('Rejecting incoming call');\n\n    // Stop ringtone\n    if (ringtoneAudio) {\n      try {\n        ringtoneAudio.pause();\n        ringtoneAudio.currentTime = 0;\n      } catch (e) {\n        console.error('Error stopping ringtone:', e);\n      }\n      setRingtoneAudio(null);\n    }\n\n    // Clear auto-accept timer\n    if (autoAcceptTimer) {\n      clearTimeout(autoAcceptTimer);\n      setAutoAcceptTimer(null);\n    }\n\n    // End call in WebRTC service\n    webRTCService.endCall(true);\n\n    // Clear states\n    setIncomingCallInfo(null);\n    setConnectingDoctor(null);\n    setSelectedDoctor(null);\n\n    // Show toast to confirm rejection\n    displayToast('Call rejected');\n  };\n\n  // Check if a doctor is online before connecting\n  const checkDoctorOnline = async doctorId => {\n    const isOnline = await webRTCService.checkUserOnline(`doctor-${doctorId}`);\n    return isOnline;\n  };\n\n  // Improved toast display function\n  const displayToast = message => {\n    console.log('Displaying toast:', message);\n    setToastQueue(prev => [...prev, message]);\n  };\n\n  // Process toast queue with increased display time (4 seconds)\n  useEffect(() => {\n    if (toastQueue.length > 0 && !activeToast) {\n      // Set the first toast as active\n      setActiveToast(toastQueue[0]);\n\n      // Remove it from the queue\n      setToastQueue(prev => prev.slice(1));\n\n      // Set timeout to clear the active toast - changed from 1000ms to 4000ms\n      const timer = setTimeout(() => {\n        setActiveToast(null);\n      }, 4000); // Now toast shows for 4 seconds\n\n      return () => clearTimeout(timer);\n    }\n  }, [toastQueue, activeToast]);\n\n  // Handle starting/ending a connection with a doctor\n  const handleConnectDoctor = async doctor => {\n    if (!readyToConnect) {\n      displayToast('Please wait while connecting to the service...');\n      return;\n    }\n    if (connectingDoctor && connectingDoctor.id === doctor.id) {\n      // If already connecting to this doctor, disconnect\n      setConnectingDoctor(null);\n      setSelectedDoctor(null); // Also clear selected doctor\n\n      // Clear any active toast and toast queue without showing a new toast\n      setActiveToast(null); // Immediately clear the current toast\n      setToastQueue([]); // Clear any pending toasts in queue\n      displayToast(`Disconnected from ${doctor.name}`);\n    } else {\n      // Check if doctor is online first\n      const isOnline = await checkDoctorOnline(doctor.id);\n      if (!isOnline) {\n        displayToast(`${doctor.name} is not online right now. Please try again later.`);\n        return;\n      }\n\n      // If connecting to a different doctor, disconnect from current doctor first\n      if (connectingDoctor) {\n        displayToast(`Disconnected from ${connectingDoctor.name}`);\n      }\n\n      // Start connecting to this doctor\n      setConnectingDoctor(doctor);\n      setSelectedDoctor(doctor);\n\n      // Clear any previous toasts and show connecting toast\n      setActiveToast(null);\n      setToastQueue([]);\n      displayToast(`Connecting to ${doctor.name}...`);\n    }\n  };\n\n  // Reset connection when video call ends, but only if previous state was true\n  useEffect(() => {\n    if (prevShowVideoCall.current && !showVideoCall && connectingDoctor) {\n      displayToast(`Call with ${connectingDoctor.name} ended`);\n      setConnectingDoctor(null);\n    }\n\n    // Update previous state\n    prevShowVideoCall.current = showVideoCall;\n  }, [showVideoCall, connectingDoctor]);\n\n  // Handle search filtering\n  const handleSearch = query => {\n    setSearchQuery(query);\n  };\n\n  // Filter doctors based on search query and availability filter\n  const filteredDoctors = doctors.filter(doctor => {\n    // Filter by search query\n    const matchesSearch = searchQuery ? doctor.name.toLowerCase().includes(searchQuery.toLowerCase()) || doctor.specialty.toLowerCase().includes(searchQuery.toLowerCase()) : true;\n\n    // Filter by availability if filter is active\n    const matchesAvailability = filterActive ? doctor.availability.includes('Available') && !doctor.availability.includes('in') : true;\n    return matchesSearch && matchesAvailability;\n  });\n\n  // Animation for header\n  const [headerVisible, setHeaderVisible] = useState(false);\n  useEffect(() => {\n    const timer = setTimeout(() => setHeaderVisible(true), 100);\n    return () => clearTimeout(timer);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 pb-24 dark-mode-transition\",\n    style: {\n      backgroundColor: isDarkMode ? colors.background : 'transparent',\n      backgroundImage: isDarkMode ? `radial-gradient(circle at 70% 30%, ${colors.primary}10, transparent 50%), \n           radial-gradient(circle at 30% 70%, ${colors.accent}10, transparent 50%)` : 'none'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: `flex justify-between items-center mb-8 transition-all duration-700 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4'}`,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold\",\n          style: {\n            background: `linear-gradient(to right, ${colors.primary}, ${colors.accent})`,\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent',\n            backgroundClip: 'text',\n            textFillColor: 'transparent'\n          },\n          children: \"Connect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm dark-mode-transition\",\n          style: {\n            color: colors.textSecondary\n          },\n          children: \"Your health team at your fingertips\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 623,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsDoctorMode(!isDoctorMode),\n          className: \"px-3 py-1 rounded-lg text-xs font-medium\",\n          style: {\n            backgroundColor: isDoctorMode ? colors.success : colors.cardBg,\n            color: isDoctorMode ? 'white' : colors.textPrimary\n          },\n          children: isDoctorMode ? 'Doctor Mode: ON' : 'Doctor Mode: OFF'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-transform hover:scale-110 duration-300 relative\",\n          style: {\n            background: notifications > 0 ? `linear-gradient(135deg, ${colors.accent}, ${colors.accentAlt})` : isDarkMode ? `linear-gradient(135deg, ${colors.darkBg}, ${colors.cardBg})` : `linear-gradient(135deg, ${colors.primaryLight}40, ${colors.primaryLight}20)`,\n            boxShadow: notifications > 0 ? `0 0 15px ${colors.accent}40` : `0 0 10px ${colors.primary}20`\n          },\n          onClick: () => setNotifications(0),\n          children: [/*#__PURE__*/_jsxDEV(Bell, {\n            size: 20,\n            color: notifications > 0 ? \"white\" : isDarkMode ? colors.textSecondary : colors.textSecondary\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 13\n          }, this), notifications > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 flex items-center justify-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-xs text-white font-bold\",\n              children: notifications\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 655,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 654,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-transform hover:scale-110 duration-300\",\n          style: {\n            background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`,\n            boxShadow: `0 0 15px ${colors.primary}40`\n          },\n          children: /*#__PURE__*/_jsxDEV(Menu, {\n            size: 20,\n            color: \"white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 7\n    }, this), incomingCallCounter > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2 p-2 bg-red-100 rounded-md text-xs\",\n      children: [\"Incoming call events received: \", incomingCallCounter]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mb-6 transition-all duration-500 transform ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`,\n      style: {\n        transitionDelay: '100ms'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300`,\n          style: {\n            color: searchFocused ? colors.primary : colors.textSecondary\n          },\n          children: /*#__PURE__*/_jsxDEV(Search, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 681,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 679,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search doctors, messages...\",\n          className: \"w-full pl-12 pr-4 py-3 rounded-xl transition-all duration-300 dark-mode-transition\",\n          style: {\n            backgroundColor: searchFocused ? isDarkMode ? colors.cardBg : 'white' : isDarkMode ? `${colors.primary}15` : `${colors.primary}05`,\n            border: searchFocused ? `2px solid ${colors.primary}30` : isDarkMode ? `1px solid ${colors.primary}20` : `1px solid ${colors.primary}10`,\n            boxShadow: searchFocused ? `0 10px 15px -3px ${colors.primary}20` : 'none',\n            color: colors.textPrimary,\n            outline: 'none'\n          },\n          onFocus: () => setSearchFocused(true),\n          onBlur: () => setSearchFocused(false),\n          value: searchQuery,\n          onChange: e => handleSearch(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 11\n        }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute right-4 top-1/2 transform -translate-y-1/2\",\n          onClick: () => setSearchQuery(''),\n          style: {\n            color: colors.textSecondary\n          },\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 677,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `flex space-x-2 mb-6 transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`,\n      style: {\n        transitionDelay: '200ms'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-4 py-2 rounded-full text-xs font-medium transition-all duration-300 flex items-center dark-mode-transition\",\n        style: {\n          backgroundColor: filterActive ? colors.primary : isDarkMode ? `${colors.primary}20` : `${colors.primary}10`,\n          color: filterActive ? 'white' : colors.primary,\n          boxShadow: filterActive ? `0 8px 15px -3px ${colors.primary}40` : 'none'\n        },\n        onClick: () => setFilterActive(!filterActive),\n        children: [/*#__PURE__*/_jsxDEV(Clock, {\n          size: 14,\n          className: \"mr-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 11\n        }, this), \"Available now\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 717,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-4 py-2 rounded-full text-xs font-medium dark-mode-transition\",\n        style: {\n          backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10`,\n          color: colors.primary\n        },\n        children: \"Primary Care\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 731,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"px-4 py-2 rounded-full text-xs font-medium dark-mode-transition\",\n        style: {\n          backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10`,\n          color: colors.primary\n        },\n        children: \"Specialists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 738,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mb-8 transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`,\n      style: {\n        transitionDelay: '300ms'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg dark-mode-transition\",\n          style: {\n            color: colors.textPrimary\n          },\n          children: \"Your Care Team\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 hover:shadow-md dark-mode-transition\",\n          style: {\n            color: colors.primary,\n            backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10`\n          },\n          children: \"View all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 9\n      }, this), filteredDoctors.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex overflow-x-auto pb-4 -mx-2 px-2 space-x-4 hide-scrollbar\",\n        children: filteredDoctors.map(doctor => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(DoctorCard, {\n            name: doctor.name,\n            specialty: doctor.specialty,\n            image: doctor.image,\n            availability: doctor.availability,\n            rating: doctor.rating,\n            colors: colors,\n            isConnecting: (connectingDoctor === null || connectingDoctor === void 0 ? void 0 : connectingDoctor.id) === doctor.id,\n            onConnectClick: async () => {\n              const isAvailableNow = doctor.availability.includes('Available') && !doctor.availability.includes('in');\n              if (!isAvailableNow) {\n                // If doctor is not available, use scheduling flow\n                setSelectedDoctor(doctor);\n                setSchedulingDoctor(doctor);\n                setShowMessageDialog(true);\n                return;\n              }\n\n              // Toggle connecting state for available doctors\n              await handleConnectDoctor(doctor);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 17\n          }, this)\n        }, doctor.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 rounded-2xl bg-white shadow-lg text-center dark-mode-transition\",\n        style: {\n          backgroundColor: isDarkMode ? colors.cardBg : 'white',\n          boxShadow: `0 10px 15px -3px ${colors.primary}20`\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"dark-mode-transition\",\n          style: {\n            color: colors.textSecondary\n          },\n          children: \"No doctors match your search criteria\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 791,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `mb-8 transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`,\n      style: {\n        transitionDelay: '400ms'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold text-lg mb-4 dark-mode-transition\",\n        style: {\n          color: colors.textPrimary\n        },\n        children: \"Quick Connect\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 803,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center transition-all duration-500 relative overflow-hidden h-36 dark-mode-transition\",\n          style: {\n            backgroundColor: isDarkMode ? colors.cardBg : 'white',\n            boxShadow: `0 15px 25px -5px ${colors.primary}30, 0 10px 10px -5px ${colors.accent}20`,\n            opacity: connectingDoctor ? 1 : 0.7\n          },\n          onClick: () => {\n            // Check if a doctor is connecting before allowing messaging\n            if (!connectingDoctor) {\n              displayToast(\"Please connect to a doctor first\");\n              return;\n            }\n            setShowMessageDialog(true);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 opacity-10\",\n            style: {\n              background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 rounded-full mb-4 flex items-center justify-center shadow-lg transition-all duration-500 relative z-10\",\n            style: {\n              background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`,\n              boxShadow: `0 0 20px ${colors.primary}40`\n            },\n            children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n              size: 32,\n              color: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 rounded-full overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shimmer-effect absolute inset-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 838,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 837,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-base font-semibold z-10 dark-mode-transition\",\n            style: {\n              color: colors.primary\n            },\n            children: \"Message\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 843,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-4 right-4 flex space-x-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full dark-mode-transition\",\n              style: {\n                backgroundColor: isDarkMode ? `${colors.primary}60` : `${colors.primary}40`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 847,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full animate-pulse\",\n              style: {\n                backgroundColor: isDarkMode ? `${colors.primary}90` : `${colors.primary}80`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 848,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full dark-mode-transition\",\n              style: {\n                backgroundColor: isDarkMode ? `${colors.primary}60` : `${colors.primary}40`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 846,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center transition-all duration-500 relative overflow-hidden h-36 dark-mode-transition\",\n          style: {\n            backgroundColor: isDarkMode ? colors.cardBg : 'white',\n            boxShadow: `0 15px 25px -5px ${colors.accentAlt}30, 0 10px 10px -5px ${colors.accent}20`,\n            opacity: connectingDoctor && connectingDoctor.availability.includes('Available') && !connectingDoctor.availability.includes('in') ? 1 : 0.7\n          },\n          onClick: async () => {\n            // Check if a doctor is connecting before allowing video call\n            if (!connectingDoctor) {\n              displayToast(\"Please connect to a doctor first\");\n              return;\n            }\n\n            // Check if the connecting doctor is available now\n            const isAvailableNow = connectingDoctor.availability.includes('Available') && !connectingDoctor.availability.includes('in');\n            if (!isAvailableNow) {\n              displayToast(`${connectingDoctor.name} is not available for video call right now`);\n              return;\n            }\n\n            // Check if the doctor is online\n            const isOnline = await checkDoctorOnline(connectingDoctor.id);\n            if (!isOnline) {\n              displayToast(`${connectingDoctor.name} is not online. Please try again later.`);\n              return;\n            }\n\n            // Start video call with the connecting doctor\n            setShowVideoCall(true);\n            // The actual WebRTC call will be initiated by the VideoCallScreen component\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 opacity-10\",\n            style: {\n              background: `linear-gradient(135deg, ${colors.accentAlt}, ${colors.accent})`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 891,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 rounded-full mb-4 flex items-center justify-center shadow-lg transition-all duration-500 relative z-10\",\n            style: {\n              background: `linear-gradient(135deg, ${colors.accentAlt}, ${colors.accent})`,\n              boxShadow: `0 0 20px ${colors.accentAlt}40`\n            },\n            children: [/*#__PURE__*/_jsxDEV(Video, {\n              size: 32,\n              color: \"white\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 902,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 rounded-full overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"shimmer-effect absolute inset-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 906,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 905,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 897,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-base font-semibold z-10 dark-mode-transition\",\n            style: {\n              color: colors.accentAlt\n            },\n            children: \"Video Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute bottom-4 right-4 flex space-x-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full dark-mode-transition\",\n              style: {\n                backgroundColor: isDarkMode ? `${colors.accentAlt}60` : `${colors.accentAlt}40`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 915,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full animate-pulse\",\n              style: {\n                backgroundColor: isDarkMode ? `${colors.accentAlt}90` : `${colors.accentAlt}80`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 916,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-2 h-2 rounded-full dark-mode-transition\",\n              style: {\n                backgroundColor: isDarkMode ? `${colors.accentAlt}60` : `${colors.accentAlt}40`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 917,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 853,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 802,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`,\n      style: {\n        transitionDelay: '500ms'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-lg dark-mode-transition\",\n          style: {\n            color: colors.textPrimary\n          },\n          children: \"Recent Messages\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 hover:shadow-md dark-mode-transition\",\n          style: {\n            color: colors.primary,\n            backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10`\n          },\n          children: \"View all\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 925,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(MessageCard, {\n          doctor: \"Dr. Johnson\",\n          message: \"Your latest blood pressure readings look good. Keep up the good work with the diet modifications we discussed!\",\n          time: \"Today, 10:23 AM\",\n          unread: true,\n          colors: colors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 937,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MessageCard, {\n          doctor: \"Dr. Smith\",\n          message: \"I've adjusted your medication schedule based on your recent feedback. Please review the changes in your medication section.\",\n          time: \"Yesterday, 4:15 PM\",\n          unread: false,\n          colors: colors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MessageCard, {\n          doctor: \"Nurse Williams\",\n          message: \"How are you feeling after the new medication? Any side effects to report?\",\n          time: \"Mar 20, 9:30 AM\",\n          unread: false,\n          colors: colors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 951,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 936,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 924,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MessageDialog, {\n      isOpen: showMessageDialog,\n      onClose: () => {\n        setShowMessageDialog(false);\n        setSchedulingDoctor(null); // Reset scheduling state on close\n      },\n      colors: colors,\n      recipient: schedulingDoctor || connectingDoctor // Use scheduling doctor if set\n      ,\n      doctors: doctors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 962,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoCallScreen, {\n      isOpen: showVideoCall,\n      onClose: () => setShowVideoCall(false),\n      colors: colors,\n      doctor: connectingDoctor // Use connecting doctor for video call\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 974,\n      columnNumber: 7\n    }, this), incomingCallInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm animate-fade-in\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-2xl max-w-md w-full mx-4 animate-bounce-in\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-6 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-28 h-28 rounded-full mx-auto mb-4 relative overflow-hidden border-4 animate-pulse\",\n            style: {\n              borderColor: colors.primary\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: incomingCallInfo.doctor.image,\n              alt: incomingCallInfo.doctor.name,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full h-full bg-black bg-opacity-20 flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-20 h-20 rounded-full border-4 border-white border-opacity-60 border-t-transparent animate-spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 995,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 994,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 993,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-2xl font-bold mb-2 dark:text-white\",\n            children: incomingCallInfo.doctor.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1000,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-md text-gray-500 dark:text-gray-300 mb-6 animate-pulse\",\n            children: \"Incoming video call...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1001,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center space-x-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-18 h-18 rounded-full flex items-center justify-center shadow-lg transform transition-transform hover:scale-110\",\n              style: {\n                backgroundColor: colors.danger\n              },\n              onClick: rejectIncomingCall,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 h-16 rounded-full flex items-center justify-center bg-red-600\",\n                children: /*#__PURE__*/_jsxDEV(Phone, {\n                  size: 30,\n                  className: \"text-white transform rotate-135\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1010,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1009,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1004,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"w-18 h-18 rounded-full flex items-center justify-center shadow-lg transform transition-transform hover:scale-110\",\n              style: {\n                backgroundColor: colors.success\n              },\n              onClick: () => acceptIncomingCall(incomingCallInfo.doctor),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-16 h-16 rounded-full flex items-center justify-center bg-green-600 animate-pulse\",\n                children: /*#__PURE__*/_jsxDEV(Phone, {\n                  size: 30,\n                  className: \"text-white\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1020,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1019,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1014,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 985,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 984,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 983,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed bottom-24 left-1/2 transform -translate-x-1/2 rounded-xl px-4 py-3 shadow-lg transition-all duration-300 z-50 dark-mode-transition ${activeToast ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'}`,\n      style: {\n        maxWidth: '90%',\n        backgroundColor: isDarkMode ? colors.cardBg : 'white',\n        boxShadow: `0 15px 30px -5px ${colors.primary}30`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm font-medium dark-mode-transition\",\n        style: {\n          color: colors.textPrimary\n        },\n        children: activeToast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1040,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1030,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes shimmer {\n          0% { background-position: -100% 0; }\n          100% { background-position: 200% 0; }\n        }\n        \n        .shimmer-effect {\n          background: linear-gradient(\n            90deg,\n            rgba(255, 255, 255, 0) 0%,\n            rgba(255, 255, 255, 0.4) 50%,\n            rgba(255, 255, 255, 0) 100%\n          );\n          background-size: 200% 100%;\n          animation: shimmer 2s infinite linear;\n        }\n        \n        .dark .shimmer-effect {\n          background: linear-gradient(\n            90deg,\n            rgba(30, 41, 59, 0) 0%,\n            rgba(30, 41, 59, 0.4) 50%,\n            rgba(30, 41, 59, 0) 100%\n          );\n          background-size: 200% 100%;\n          animation: shimmer 2s infinite linear;\n        }\n        \n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        \n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        \n        @keyframes bounce-in {\n          0% { transform: scale(0.8); opacity: 0; }\n          70% { transform: scale(1.05); opacity: 1; }\n          100% { transform: scale(1); opacity: 1; }\n        }\n        .animate-bounce-in {\n          animation: bounce-in 0.5s ease-out forwards;\n        }\n        \n        @keyframes fade-in {\n          0% { opacity: 0; }\n          100% { opacity: 1; }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.3s ease-out forwards;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1046,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 605,\n    columnNumber: 5\n  }, this);\n};\n_s3(ConnectScreen, \"kyZTdQukLxV/Hiq0PzZgaXBQPg0=\", false, function () {\n  return [useTheme];\n});\n_c3 = ConnectScreen;\nexport default ConnectScreen;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"DoctorCard\");\n$RefreshReg$(_c2, \"MessageCard\");\n$RefreshReg$(_c3, \"ConnectScreen\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Menu","MessageCircle","Video","Search","Bell","ChevronRight","Clock","Phone","MessageDialog","VideoCallScreen","useTheme","webRTCService","jsxDEV","_jsxDEV","DoctorCard","name","specialty","image","availability","colors","rating","onConnectClick","isConnecting","_s","isAvailableNow","includes","isHovered","setIsHovered","isDarkMode","className","style","backgroundColor","cardBg","borderColor","primary","boxShadow","accent","transform","onMouseEnter","onMouseLeave","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","success","warning","color","textPrimary","textSecondary","Array","map","_","i","darkBg","background","accentAlt","border","onClick","_c","MessageCard","doctor","message","time","unread","_s2","borderLeft","split","size","opacity","fontWeight","marginLeft","_c2","ConnectScreen","setActiveScreen","_s3","searchFocused","setSearchFocused","searchQuery","setSearchQuery","notifications","setNotifications","filterActive","setFilterActive","showMessageDialog","setShowMessageDialog","showVideoCall","setShowVideoCall","selectedDoctor","setSelectedDoctor","connectingDoctor","setConnectingDoctor","schedulingDoctor","setSchedulingDoctor","readyToConnect","setReadyToConnect","isDoctorMode","setIsDoctorMode","localStorage","getItem","toastQueue","setToastQueue","activeToast","setActiveToast","incomingCallInfo","setIncomingCallInfo","ringtoneAudio","setRingtoneAudio","autoAcceptTimer","setAutoAcceptTimer","incomingCallCounter","setIncomingCallCounter","prevShowVideoCall","doctors","id","setItem","socket","connected","emit","console","log","generateUniqueId","storedId","newId","Math","random","toString","substring","currentUserId","callbacks","onIncomingCall","callerId","prev","callingDoctor","find","doc","displayIncomingCallAlert","setTimeout","warn","unknownDoctor","onUserNotOnline","userId","doctorId","replace","displayToast","serverUrl","process","env","REACT_APP_SIGNALING_SERVER","initialize","registerInterval","setInterval","on","callerUserId","clearInterval","disconnect","pause","currentTime","e","error","clearTimeout","timestamp","Date","now","audio","Audio","loop","volume","playPromise","play","undefined","then","catch","document","addEventListener","audioUnlock","removeEventListener","timer","acceptIncomingCall","rejectIncomingCall","endCall","checkDoctorOnline","isOnline","checkUserOnline","length","slice","handleConnectDoctor","current","handleSearch","query","filteredDoctors","filter","matchesSearch","toLowerCase","matchesAvailability","headerVisible","setHeaderVisible","backgroundImage","WebkitBackgroundClip","WebkitTextFillColor","backgroundClip","textFillColor","primaryLight","transitionDelay","type","placeholder","outline","onFocus","onBlur","value","onChange","target","isOpen","onClose","recipient","danger","maxWidth","jsx","_c3","$RefreshReg$"],"sources":["/Users/ang/V_Hack_Ver2/frontend/src/components/screens/ConnectScreen.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { Menu, MessageCircle, Video, Search, Bell, ChevronRight, Clock, Phone } from \"lucide-react\";\nimport MessageDialog from '../screens/MessageDialog';\nimport VideoCallScreen from '../screens/VideoCallScreen';\nimport { useTheme } from '../ThemeContext'; \nimport webRTCService from '../services/WebRTCService';\n\n// Create enhanced DoctorCard component directly in this file\nconst DoctorCard = ({ name, specialty, image, availability, colors, rating, onConnectClick, isConnecting }) => {\n  const isAvailableNow = availability.includes('Available') && !availability.includes('in');\n  const [isHovered, setIsHovered] = useState(false);\n  const { isDarkMode } = useTheme();\n  \n  return (\n    <div \n      className=\"p-4 rounded-2xl bg-white shadow-lg border border-blue-50 min-w-[180px] transform transition-all duration-500 hover:shadow-xl dark-mode-transition\"\n      style={{ \n        backgroundColor: isDarkMode ? colors.cardBg : 'white',\n        borderColor: isDarkMode ? `${colors.primary}30` : 'rgba(219, 234, 254, 1)',\n        boxShadow: isHovered \n          ? `0 20px 25px -5px ${colors.primary}30, 0 10px 10px -5px ${colors.accent}20` \n          : `0 10px 15px -3px ${colors.primary}20`,\n        transform: isHovered ? 'translateY(-8px) scale(1.02)' : 'translateY(0) scale(1)'\n      }}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      <div className=\"flex items-center mb-3\">\n        <div className=\"w-14 h-14 rounded-full shadow-md mr-3 relative overflow-hidden transition-all duration-300\"\n            style={{ \n              boxShadow: `0 0 15px ${colors.primary}30`,\n              transform: isHovered ? 'scale(1.05)' : 'scale(1)'\n            }}>\n          <img src={image} alt={name} className=\"w-full h-full rounded-full object-cover\" />\n          <div className=\"absolute bottom-0 right-0 w-4 h-4 rounded-full border-2 border-white animate-pulse\" \n              style={{ \n                backgroundColor: isConnecting ? colors.accent : isAvailableNow ? colors.success : colors.warning,\n                borderColor: isDarkMode ? colors.cardBg : 'white'\n              }}></div>\n        </div>\n        <div>\n          <h4 className=\"font-semibold text-sm dark-mode-transition\" style={{ color: colors.textPrimary }}>{name}</h4>\n          <p className=\"text-xs dark-mode-transition\" style={{ color: colors.textSecondary }}>{specialty}</p>\n          {rating && (\n            <div className=\"flex items-center mt-1\">\n              {[...Array(5)].map((_, i) => (\n                <div key={i} className=\"w-2 h-2 rounded-full mr-1 dark-mode-transition\" \n                    style={{ backgroundColor: i < rating ? colors.primary : isDarkMode ? colors.darkBg : colors.background }}></div>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n      <div className=\"flex items-center mb-3\">\n        <div className=\"w-3 h-3 mr-2 rounded-full animate-pulse\" \n            style={{ backgroundColor: isConnecting ? colors.accent : isAvailableNow ? colors.success : colors.warning }}></div>\n        <span className=\"text-xs font-medium\" \n            style={{ color: isConnecting ? colors.accent : isAvailableNow ? colors.success : colors.warning }}>\n          {isConnecting ? \"Connecting...\" : availability}\n        </span>\n      </div>\n      <button \n        className=\"w-full p-2 rounded-lg text-xs font-medium shadow-md transition-all duration-300 hover:shadow-lg transform hover:-translate-y-1\" \n        style={{ \n          background: isConnecting \n            ? `linear-gradient(135deg, ${colors.accent}, ${colors.accentAlt})`\n            : isAvailableNow \n              ? `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`\n              : isDarkMode\n                ? `linear-gradient(135deg, ${colors.darkBg}, ${colors.cardBg})`\n                : `linear-gradient(135deg, ${colors.background}, white)`,\n          color: (isConnecting || isAvailableNow) ? 'white' : colors.primary,\n          border: (isConnecting || isAvailableNow) ? 'none' : `1px solid ${colors.primary}30`,\n          boxShadow: (isConnecting || isAvailableNow)\n            ? `0 8px 15px -3px ${colors.primary}40` \n            : `0 4px 6px -1px ${colors.primary}20`\n        }}\n        onClick={onConnectClick}\n      >\n        {isConnecting ? 'Disconnect' : isAvailableNow ? 'Connect Now' : 'Schedule'}\n      </button>\n    </div>\n  );\n};\n\n// Enhanced Message Card component\nconst MessageCard = ({ doctor, message, time, unread, colors }) => {\n  const [isHovered, setIsHovered] = useState(false);\n  const { isDarkMode } = useTheme();\n  \n  return (\n    <div \n      className=\"p-4 rounded-2xl bg-white shadow-lg border border-blue-50 transition-all duration-500 relative overflow-hidden dark-mode-transition\"\n      style={{ \n        backgroundColor: isDarkMode ? colors.cardBg : 'white',\n        borderColor: isDarkMode ? `${colors.primary}30` : 'rgba(219, 234, 254, 1)',\n        boxShadow: isHovered \n          ? `0 15px 25px -5px ${colors.primary}30` \n          : `0 10px 15px -3px ${colors.primary}20`,\n        transform: isHovered ? 'translateX(5px)' : 'translateX(0)',\n        borderLeft: unread ? `4px solid ${colors.primary}` : '4px solid transparent'\n      }}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      {unread && (\n        <div className=\"absolute top-0 right-0\">\n          <div className=\"w-3 h-3 m-2 rounded-full animate-pulse\" \n              style={{ backgroundColor: colors.primary }}></div>\n        </div>\n      )}\n      <div className=\"flex items-center mb-2\">\n        <div className=\"w-10 h-10 rounded-full shadow-md mr-3 relative overflow-hidden flex items-center justify-center\"\n             style={{ \n               background: `linear-gradient(135deg, ${colors.primary}40, ${colors.accent}30)`,\n               boxShadow: `0 0 15px ${colors.primary}30` \n             }}>\n          <span className=\"text-sm font-bold\" style={{ color: colors.primary }}>{doctor.split(' ')[1][0]}</span>\n        </div>\n        <div className=\"flex-1\">\n          <h4 className=\"font-semibold text-sm dark-mode-transition\" style={{ color: colors.textPrimary }}>{doctor}</h4>\n          <p className=\"text-xs dark-mode-transition\" style={{ color: colors.textSecondary }}>{time}</p>\n        </div>\n        <ChevronRight size={18} className=\"transition-opacity duration-300\" style={{ color: colors.textSecondary, opacity: isHovered ? 1 : 0.5 }} />\n      </div>\n      <p className=\"text-sm ml-13 pl-13 dark-mode-transition\" style={{ \n        color: unread ? colors.textPrimary : colors.textSecondary,\n        fontWeight: unread ? '500' : '400',\n        marginLeft: '3.25rem' \n      }}>{message}</p>\n    </div>\n  );\n};\n\n// Main ConnectScreen component\nconst ConnectScreen = ({ colors, setActiveScreen }) => {\n  const { isDarkMode } = useTheme();\n  const [searchFocused, setSearchFocused] = useState(false);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [notifications, setNotifications] = useState(3);\n  const [filterActive, setFilterActive] = useState(false);\n  \n  // Modal states\n  const [showMessageDialog, setShowMessageDialog] = useState(false);\n  const [showVideoCall, setShowVideoCall] = useState(false);\n  const [selectedDoctor, setSelectedDoctor] = useState(null);\n  const [connectingDoctor, setConnectingDoctor] = useState(null);\n  const [schedulingDoctor, setSchedulingDoctor] = useState(null); // New state for scheduling vs connecting\n  const [readyToConnect, setReadyToConnect] = useState(false); // New state to control when connections can be made\n\n  // Doctor mode toggle for testing\n  const [isDoctorMode, setIsDoctorMode] = useState(\n    localStorage.getItem('is_doctor') === 'true'\n  );\n\n  // Enhanced notification system\n  const [toastQueue, setToastQueue] = useState([]);\n  const [activeToast, setActiveToast] = useState(null);\n  \n  // Incoming call notification\n  const [incomingCallInfo, setIncomingCallInfo] = useState(null);\n  const [ringtoneAudio, setRingtoneAudio] = useState(null);\n  const [autoAcceptTimer, setAutoAcceptTimer] = useState(null);\n  \n  // Debug counter for incoming calls - new\n  const [incomingCallCounter, setIncomingCallCounter] = useState(0);\n  \n  // Ref to track previous video call state\n  const prevShowVideoCall = useRef(showVideoCall);\n  \n  // Sample doctors data\n  const doctors = [\n    {\n      id: 1,\n      name: \"Dr. Johnson\",\n      specialty: \"Cardiologist\",\n      image: \"/User_1.png\",\n      availability: \"Available now\",\n      rating: 5\n    },\n    {\n      id: 2,\n      name: \"Dr. Smith\",\n      specialty: \"Primary Care\",\n      image: \"/User_2.jpg\",\n      availability: \"Available in 15m\",\n      rating: 4\n    },\n    {\n      id: 3,\n      name: \"Dr. Garcia\",\n      specialty: \"Endocrinologist\",\n      image: \"/User_3.png\",\n      availability: \"Available tomorrow\",\n      rating: 5\n    },\n    {\n      id: 4,\n      name: \"Dr. Chen\",\n      specialty: \"Neurologist\",\n      image: \"/User_4.png\",\n      availability: \"Available in 2h\",\n      rating: 4\n    },\n  ];\n\n  // Toggle doctor mode status\n  useEffect(() => {\n    localStorage.setItem('is_doctor', isDoctorMode ? 'true' : 'false');\n    \n    if (isDoctorMode && webRTCService.socket && webRTCService.socket.connected) {\n      // Register as doctor-1\n      webRTCService.socket.emit('register', 'doctor-1');\n      console.log('Registered as doctor-1 via toggle');\n    }\n  }, [isDoctorMode]);\n  \n  // DEBUG: Log incoming call info whenever it changes - new\n  useEffect(() => {\n    if (incomingCallInfo) {\n      console.log('INCOMING CALL INFO UPDATED:', incomingCallInfo);\n    }\n  }, [incomingCallInfo]);\n  \n  // Initialize WebRTC when component mounts\n  useEffect(() => {\n    // Generate a unique ID for the current user instance\n    // This ensures each browser instance has a different ID\n    const generateUniqueId = () => {\n      // Check if we already have an ID stored\n      const storedId = localStorage.getItem('user_instance_id');\n      if (storedId) {\n        return storedId;\n      }\n      \n      // Generate a new random ID and store it\n      const newId = 'user-' + Math.random().toString(36).substring(2, 15);\n      localStorage.setItem('user_instance_id', newId);\n      return newId;\n    };\n    \n    const currentUserId = generateUniqueId();\n    console.log('Initializing with user ID:', currentUserId);\n    \n    // Set up WebRTC callbacks\n    const callbacks = {\n      onIncomingCall: (callerId) => {\n        // Increment our debug counter - new\n        setIncomingCallCounter(prev => prev + 1);\n        \n        // Find which doctor is calling\n        const callingDoctor = doctors.find(doc => `doctor-${doc.id}` === callerId);\n        \n        if (callingDoctor) {\n          console.log('Incoming call from doctor detected:', callingDoctor.name);\n          \n          // Set the connecting doctor\n          setConnectingDoctor(callingDoctor);\n          setSelectedDoctor(callingDoctor);\n          \n          // Use the enhanced notification system\n          displayIncomingCallAlert(callingDoctor);\n          \n          // NEW: Force a notification if the previous one didn't show up\n          setTimeout(() => {\n            console.log('Checking if notification is visible...');\n            // If we don't see a notification after 500ms, force it again\n            if (!incomingCallInfo) {\n              console.log('Forcing notification display...');\n              displayIncomingCallAlert(callingDoctor);\n            }\n          }, 500);\n        } else {\n          // Handle the case where we can't find the doctor\n          console.warn('Received call from unknown doctor ID:', callerId);\n          // Create a generic doctor object\n          const unknownDoctor = {\n            id: 999,\n            name: \"Unknown Doctor\",\n            specialty: \"Medical Professional\",\n            image: \"/User_1.png\",\n            availability: \"Available now\",\n            rating: 5\n          };\n          setConnectingDoctor(unknownDoctor);\n          setSelectedDoctor(unknownDoctor);\n          displayIncomingCallAlert(unknownDoctor);\n        }\n      },\n      onUserNotOnline: (userId) => {\n        // Try to find which doctor this userId belongs to\n        const doctorId = userId.replace('doctor-', '');\n        const doctor = doctors.find(doc => doc.id.toString() === doctorId);\n        \n        if (doctor) {\n          displayToast(`${doctor.name} is not available right now. Please try again later.`);\n        } else {\n          displayToast('The selected doctor is not available right now.');\n        }\n        \n        // Reset connecting state\n        setConnectingDoctor(null);\n      }\n    };\n    \n    // Get the server URL from environment variable if available\n    const serverUrl = process.env.REACT_APP_SIGNALING_SERVER || null;\n    \n    // Initialize WebRTC service\n    webRTCService.initialize(currentUserId, callbacks, serverUrl);\n\n    // If this browser is in doctor mode, register with doctor ID after a short delay\n    if (localStorage.getItem('is_doctor') === 'true') {\n      setTimeout(() => {\n        if (webRTCService.socket && webRTCService.socket.connected) {\n          webRTCService.socket.emit('register', 'doctor-1');\n          console.log('Registered as doctor-1 on initialization');\n        }\n      }, 1000);\n    }\n    \n    // Add delay before allowing connections to ensure proper registration with the server\n    setTimeout(() => {\n      setReadyToConnect(true);\n    }, 2000);\n\n    // Periodically re-register to ensure connection\n    const registerInterval = setInterval(() => {\n      if (webRTCService.socket && webRTCService.socket.connected) {\n        // Always register with user ID\n        webRTCService.socket.emit('register', currentUserId);\n        \n        // If in doctor mode, also register with doctor ID\n        if (localStorage.getItem('is_doctor') === 'true') {\n          webRTCService.socket.emit('register', 'doctor-1');\n          console.log('Re-registering as doctor-1');\n        }\n      }\n    }, 5000); // Every 5 seconds\n    \n    // ADDITIONAL DEBUG: Add direct socket listener for incoming calls - new\n    if (webRTCService.socket) {\n      webRTCService.socket.on('incoming-call', ({ callerUserId }) => {\n        console.log('DIRECT SOCKET: Incoming call detected from:', callerUserId);\n      });\n    }\n    \n    // Clean up on unmount\n    return () => {\n      clearInterval(registerInterval);\n      webRTCService.disconnect();\n    };\n  }, []); // Only run once when component mounts\n  \n  // FIXED: Enhanced incoming call notification display\n  const displayIncomingCallAlert = (doctor) => {\n    console.log('Displaying incoming call alert for doctor:', doctor.name);\n    \n    // Clear existing toasts to prevent overlap\n    setActiveToast(null);\n    setToastQueue([]);\n    \n    // Stop any previous ringtone\n    if (ringtoneAudio) {\n      try {\n        ringtoneAudio.pause();\n        ringtoneAudio.currentTime = 0;\n      } catch (e) {\n        console.error('Error stopping previous ringtone:', e);\n      }\n      setRingtoneAudio(null);\n    }\n    \n    // Clear any previous auto-accept timer\n    if (autoAcceptTimer) {\n      clearTimeout(autoAcceptTimer);\n      setAutoAcceptTimer(null);\n    }\n    \n    // Create a more prominent incoming call notification as a state variable\n    setIncomingCallInfo({\n      doctor: doctor,\n      timestamp: Date.now(),\n      id: Math.random().toString(36).substring(2, 9) // Add a unique ID\n    });\n    \n    // Play sound effect if available (add a ringtone to your public folder)\n    try {\n      const audio = new Audio('/song1.mp3');\n      audio.loop = true;\n      audio.volume = 0.7; // Set volume to 70%\n      \n      // Use a promise to handle play\n      const playPromise = audio.play();\n      \n      if (playPromise !== undefined) {\n        playPromise\n          .then(() => {\n            console.log('Ringtone playing successfully');\n            setRingtoneAudio(audio);\n          })\n          .catch(e => {\n            console.log('Could not play notification sound:', e);\n            // Try alternative method if autoplay is blocked\n            document.addEventListener('click', function audioUnlock() {\n              audio.play().catch(e => console.log('Still cannot play audio:', e));\n              document.removeEventListener('click', audioUnlock);\n            });\n          });\n      }\n    } catch (error) {\n      console.log('Could not initialize ringtone:', error);\n    }\n    \n    // Auto-accept call after 15 seconds if not manually handled\n    const timer = setTimeout(() => {\n      if (incomingCallInfo) {\n        console.log('Auto-accepting call after timeout');\n        acceptIncomingCall(doctor);\n      }\n    }, 15000); // Increased to 15 seconds for better user experience\n    \n    // Store timer reference to clear it later\n    setAutoAcceptTimer(timer);\n    \n    // Also show a toast notification as a backup\n    displayToast(`Incoming call from ${doctor.name}`);\n  };\n  \n  // Accept incoming call handler\n  const acceptIncomingCall = (doctor) => {\n    console.log('Accepting incoming call from:', doctor?.name);\n    \n    // Stop ringtone\n    if (ringtoneAudio) {\n      try {\n        ringtoneAudio.pause();\n        ringtoneAudio.currentTime = 0;\n      } catch (e) {\n        console.error('Error stopping ringtone:', e);\n      }\n      setRingtoneAudio(null);\n    }\n    \n    // Clear auto-accept timer\n    if (autoAcceptTimer) {\n      clearTimeout(autoAcceptTimer);\n      setAutoAcceptTimer(null);\n    }\n    \n    // Clear the incoming call notification\n    setIncomingCallInfo(null);\n    \n    // Show video call screen\n    setShowVideoCall(true);\n    \n    // Show a confirmation toast\n    displayToast(`Connected with ${doctor.name}`);\n  };\n  \n  // Reject incoming call handler\n  const rejectIncomingCall = () => {\n    console.log('Rejecting incoming call');\n    \n    // Stop ringtone\n    if (ringtoneAudio) {\n      try {\n        ringtoneAudio.pause();\n        ringtoneAudio.currentTime = 0;\n      } catch (e) {\n        console.error('Error stopping ringtone:', e);\n      }\n      setRingtoneAudio(null);\n    }\n    \n    // Clear auto-accept timer\n    if (autoAcceptTimer) {\n      clearTimeout(autoAcceptTimer);\n      setAutoAcceptTimer(null);\n    }\n    \n    // End call in WebRTC service\n    webRTCService.endCall(true);\n    \n    // Clear states\n    setIncomingCallInfo(null);\n    setConnectingDoctor(null);\n    setSelectedDoctor(null);\n    \n    // Show toast to confirm rejection\n    displayToast('Call rejected');\n  };\n  \n  // Check if a doctor is online before connecting\n  const checkDoctorOnline = async (doctorId) => {\n    const isOnline = await webRTCService.checkUserOnline(`doctor-${doctorId}`);\n    return isOnline;\n  };\n  \n  // Improved toast display function\n  const displayToast = (message) => {\n    console.log('Displaying toast:', message);\n    setToastQueue(prev => [...prev, message]);\n  };\n  \n  // Process toast queue with increased display time (4 seconds)\n  useEffect(() => {\n    if (toastQueue.length > 0 && !activeToast) {\n      // Set the first toast as active\n      setActiveToast(toastQueue[0]);\n      \n      // Remove it from the queue\n      setToastQueue(prev => prev.slice(1));\n      \n      // Set timeout to clear the active toast - changed from 1000ms to 4000ms\n      const timer = setTimeout(() => {\n        setActiveToast(null);\n      }, 4000); // Now toast shows for 4 seconds\n      \n      return () => clearTimeout(timer);\n    }\n  }, [toastQueue, activeToast]);\n    \n  // Handle starting/ending a connection with a doctor\n  const handleConnectDoctor = async (doctor) => {\n    if (!readyToConnect) {\n      displayToast('Please wait while connecting to the service...');\n      return;\n    }\n    \n    if (connectingDoctor && connectingDoctor.id === doctor.id) {\n      // If already connecting to this doctor, disconnect\n      setConnectingDoctor(null);\n      setSelectedDoctor(null); // Also clear selected doctor\n      \n      // Clear any active toast and toast queue without showing a new toast\n      setActiveToast(null); // Immediately clear the current toast\n      setToastQueue([]); // Clear any pending toasts in queue\n      displayToast(`Disconnected from ${doctor.name}`);\n    } else {\n      // Check if doctor is online first\n      const isOnline = await checkDoctorOnline(doctor.id);\n      \n      if (!isOnline) {\n        displayToast(`${doctor.name} is not online right now. Please try again later.`);\n        return;\n      }\n      \n      // If connecting to a different doctor, disconnect from current doctor first\n      if (connectingDoctor) {\n        displayToast(`Disconnected from ${connectingDoctor.name}`);\n      }\n      \n      // Start connecting to this doctor\n      setConnectingDoctor(doctor);\n      setSelectedDoctor(doctor);\n      \n      // Clear any previous toasts and show connecting toast\n      setActiveToast(null);\n      setToastQueue([]);\n      displayToast(`Connecting to ${doctor.name}...`);\n    }\n  };\n  \n  // Reset connection when video call ends, but only if previous state was true\n  useEffect(() => {\n    if (prevShowVideoCall.current && !showVideoCall && connectingDoctor) {\n      displayToast(`Call with ${connectingDoctor.name} ended`);\n      setConnectingDoctor(null);\n    }\n    \n    // Update previous state\n    prevShowVideoCall.current = showVideoCall;\n  }, [showVideoCall, connectingDoctor]);\n  \n  // Handle search filtering\n  const handleSearch = (query) => {\n    setSearchQuery(query);\n  };\n  \n  // Filter doctors based on search query and availability filter\n  const filteredDoctors = doctors.filter(doctor => {\n    // Filter by search query\n    const matchesSearch = searchQuery \n      ? (doctor.name.toLowerCase().includes(searchQuery.toLowerCase()) || \n         doctor.specialty.toLowerCase().includes(searchQuery.toLowerCase()))\n      : true;\n      \n    // Filter by availability if filter is active\n    const matchesAvailability = filterActive \n      ? doctor.availability.includes('Available') && !doctor.availability.includes('in')\n      : true;\n      \n    return matchesSearch && matchesAvailability;\n  });\n  \n  // Animation for header\n  const [headerVisible, setHeaderVisible] = useState(false);\n  useEffect(() => {\n    const timer = setTimeout(() => setHeaderVisible(true), 100);\n    return () => clearTimeout(timer);\n  }, []);\n\n  return (\n    <div className=\"p-6 pb-24 dark-mode-transition\" style={{ \n      backgroundColor: isDarkMode ? colors.background : 'transparent',\n      backgroundImage: isDarkMode \n        ? `radial-gradient(circle at 70% 30%, ${colors.primary}10, transparent 50%), \n           radial-gradient(circle at 30% 70%, ${colors.accent}10, transparent 50%)`\n        : 'none'\n    }}>\n      {/* Enhanced header with animations */}\n      <header className={`flex justify-between items-center mb-8 transition-all duration-700 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 -translate-y-4'}`}>\n        <div>\n          <h1 className=\"text-3xl font-bold\" \n              style={{ \n                background: `linear-gradient(to right, ${colors.primary}, ${colors.accent})`,\n                WebkitBackgroundClip: 'text',\n                WebkitTextFillColor: 'transparent',\n                backgroundClip: 'text',\n                textFillColor: 'transparent'\n              }}>Connect</h1>\n          <p className=\"text-sm dark-mode-transition\" style={{ color: colors.textSecondary }}>Your health team at your fingertips</p>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          {/* Doctor Mode Toggle */}\n          <button \n            onClick={() => setIsDoctorMode(!isDoctorMode)}\n            className=\"px-3 py-1 rounded-lg text-xs font-medium\"\n            style={{ \n              backgroundColor: isDoctorMode ? colors.success : colors.cardBg,\n              color: isDoctorMode ? 'white' : colors.textPrimary\n            }}\n          >\n            {isDoctorMode ? 'Doctor Mode: ON' : 'Doctor Mode: OFF'}\n          </button>\n\n          <button \n            className=\"w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-transform hover:scale-110 duration-300 relative\"\n            style={{ \n              background: notifications > 0\n                ? `linear-gradient(135deg, ${colors.accent}, ${colors.accentAlt})`\n                : isDarkMode \n                  ? `linear-gradient(135deg, ${colors.darkBg}, ${colors.cardBg})`\n                  : `linear-gradient(135deg, ${colors.primaryLight}40, ${colors.primaryLight}20)`,\n              boxShadow: notifications > 0\n                ? `0 0 15px ${colors.accent}40`\n                : `0 0 10px ${colors.primary}20`\n            }}\n            onClick={() => setNotifications(0)}\n          >\n            <Bell size={20} color={notifications > 0 ? \"white\" : isDarkMode ? colors.textSecondary : colors.textSecondary} />\n            {notifications > 0 && (\n              <div className=\"absolute -top-1 -right-1 w-5 h-5 rounded-full bg-red-500 flex items-center justify-center\">\n                <span className=\"text-xs text-white font-bold\">{notifications}</span>\n              </div>\n            )}\n          </button>\n          <button className=\"w-10 h-10 rounded-full flex items-center justify-center shadow-lg transition-transform hover:scale-110 duration-300\" \n            style={{ \n              background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`,\n              boxShadow: `0 0 15px ${colors.primary}40`\n            }}>\n            <Menu size={20} color=\"white\" />\n          </button>\n        </div>\n      </header>\n      \n      {/* NEW: Incoming Call Counter for debugging */}\n      {incomingCallCounter > 0 && (\n        <div className=\"mb-2 p-2 bg-red-100 rounded-md text-xs\">\n          Incoming call events received: {incomingCallCounter}\n        </div>\n      )}\n      \n      {/* Search bar with animations and dark mode support */}\n      <div className={`mb-6 transition-all duration-500 transform ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`} style={{ transitionDelay: '100ms' }}>\n        <div className=\"relative\">\n          <div className={`absolute left-4 top-1/2 transform -translate-y-1/2 transition-all duration-300`}\n               style={{ color: searchFocused ? colors.primary : colors.textSecondary }}>\n            <Search size={18} />\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Search doctors, messages...\"\n            className=\"w-full pl-12 pr-4 py-3 rounded-xl transition-all duration-300 dark-mode-transition\"\n            style={{\n              backgroundColor: searchFocused \n                ? isDarkMode ? colors.cardBg : 'white' \n                : isDarkMode ? `${colors.primary}15` : `${colors.primary}05`,\n              border: searchFocused \n                ? `2px solid ${colors.primary}30` \n                : isDarkMode ? `1px solid ${colors.primary}20` : `1px solid ${colors.primary}10`,\n              boxShadow: searchFocused ? `0 10px 15px -3px ${colors.primary}20` : 'none',\n              color: colors.textPrimary,\n              outline: 'none',\n            }}\n            onFocus={() => setSearchFocused(true)}\n            onBlur={() => setSearchFocused(false)}\n            value={searchQuery}\n            onChange={(e) => handleSearch(e.target.value)}\n          />\n          {searchQuery && (\n            <button \n              className=\"absolute right-4 top-1/2 transform -translate-y-1/2\"\n              onClick={() => setSearchQuery('')}\n              style={{ color: colors.textSecondary }}\n            >\n              \n            </button>\n          )}\n        </div>\n      </div>\n      \n      {/* Filter chips */}\n      <div className={`flex space-x-2 mb-6 transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`} style={{ transitionDelay: '200ms' }}>\n        <button \n          className=\"px-4 py-2 rounded-full text-xs font-medium transition-all duration-300 flex items-center dark-mode-transition\"\n          style={{\n            backgroundColor: filterActive \n              ? colors.primary \n              : isDarkMode ? `${colors.primary}20` : `${colors.primary}10`,\n            color: filterActive ? 'white' : colors.primary,\n            boxShadow: filterActive ? `0 8px 15px -3px ${colors.primary}40` : 'none'\n          }}\n          onClick={() => setFilterActive(!filterActive)}\n        >\n          <Clock size={14} className=\"mr-1\" />\n          Available now\n        </button>\n        <button className=\"px-4 py-2 rounded-full text-xs font-medium dark-mode-transition\" \n          style={{ \n            backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10`, \n            color: colors.primary \n          }}>\n          Primary Care\n        </button>\n        <button className=\"px-4 py-2 rounded-full text-xs font-medium dark-mode-transition\" \n          style={{ \n            backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10`, \n            color: colors.primary \n          }}>\n          Specialists\n        </button>\n      </div>\n      \n      {/* Care team with enhanced card animations - now using filtered doctors */}\n      <div className={`mb-8 transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`} style={{ transitionDelay: '300ms' }}>\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"font-bold text-lg dark-mode-transition\" style={{ color: colors.textPrimary }}>Your Care Team</h3>\n          <button className=\"text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 hover:shadow-md dark-mode-transition\" \n                  style={{ \n                    color: colors.primary, \n                    backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10` \n                  }}>\n            View all\n          </button>\n        </div>\n        \n        {filteredDoctors.length > 0 ? (\n          <div className=\"flex overflow-x-auto pb-4 -mx-2 px-2 space-x-4 hide-scrollbar\">\n            {filteredDoctors.map(doctor => (\n              <div key={doctor.id}>\n                <DoctorCard\n                  name={doctor.name}\n                  specialty={doctor.specialty}\n                  image={doctor.image}\n                  availability={doctor.availability}\n                  rating={doctor.rating}\n                  colors={colors}\n                  isConnecting={connectingDoctor?.id === doctor.id}\n                  onConnectClick={async () => {\n                    const isAvailableNow = doctor.availability.includes('Available') && !doctor.availability.includes('in');\n                    \n                    if (!isAvailableNow) {\n                      // If doctor is not available, use scheduling flow\n                      setSelectedDoctor(doctor);\n                      setSchedulingDoctor(doctor);\n                      setShowMessageDialog(true);\n                      return;\n                    }\n                    \n                    // Toggle connecting state for available doctors\n                    await handleConnectDoctor(doctor);\n                  }}\n                />\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"p-6 rounded-2xl bg-white shadow-lg text-center dark-mode-transition\"\n               style={{ \n                 backgroundColor: isDarkMode ? colors.cardBg : 'white',\n                 boxShadow: `0 10px 15px -3px ${colors.primary}20`\n               }}>\n            <p className=\"dark-mode-transition\" style={{ color: colors.textSecondary }}>No doctors match your search criteria</p>\n          </div>\n        )}\n      </div>\n      \n      {/* Communication options with enhanced gradient backgrounds and hover effects */}\n      <div className={`mb-8 transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`} style={{ transitionDelay: '400ms' }}>\n        <h3 className=\"font-bold text-lg mb-4 dark-mode-transition\" style={{ color: colors.textPrimary }}>Quick Connect</h3>\n        <div className=\"grid grid-cols-2 gap-6\">\n          <button \n            className=\"p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center transition-all duration-500 relative overflow-hidden h-36 dark-mode-transition\"\n            style={{ \n              backgroundColor: isDarkMode ? colors.cardBg : 'white',\n              boxShadow: `0 15px 25px -5px ${colors.primary}30, 0 10px 10px -5px ${colors.accent}20`,\n              opacity: connectingDoctor ? 1 : 0.7\n            }}\n            onClick={() => {\n              // Check if a doctor is connecting before allowing messaging\n              if (!connectingDoctor) {\n                displayToast(\"Please connect to a doctor first\");\n                return;\n              }\n              \n              setShowMessageDialog(true);\n            }}\n          >\n            {/* Background gradient effect */}\n            <div className=\"absolute inset-0 opacity-10\" \n                style={{ \n                  background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`,\n                }}></div>\n            \n            {/* Icon container */}\n            <div className=\"w-20 h-20 rounded-full mb-4 flex items-center justify-center shadow-lg transition-all duration-500 relative z-10\" \n                style={{ \n                  background: `linear-gradient(135deg, ${colors.primary}, ${colors.accent})`,\n                  boxShadow: `0 0 20px ${colors.primary}40`\n                }}>\n              <MessageCircle size={32} color=\"white\" />\n              \n              {/* Shimmer effect */}\n              <div className=\"absolute inset-0 rounded-full overflow-hidden\">\n                <div className=\"shimmer-effect absolute inset-0\"></div>\n              </div>\n            </div>\n            \n            {/* Label */}\n            <span className=\"text-base font-semibold z-10 dark-mode-transition\" style={{ color: colors.primary }}>Message</span>\n            \n            {/* Subtle indicator dots */}\n            <div className=\"absolute bottom-4 right-4 flex space-x-1\">\n              <div className=\"w-2 h-2 rounded-full dark-mode-transition\" style={{ backgroundColor: isDarkMode ? `${colors.primary}60` : `${colors.primary}40` }}></div>\n              <div className=\"w-2 h-2 rounded-full animate-pulse\" style={{ backgroundColor: isDarkMode ? `${colors.primary}90` : `${colors.primary}80` }}></div>\n              <div className=\"w-2 h-2 rounded-full dark-mode-transition\" style={{ backgroundColor: isDarkMode ? `${colors.primary}60` : `${colors.primary}40` }}></div>\n            </div>\n          </button>\n          \n          <button \n            className=\"p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center transition-all duration-500 relative overflow-hidden h-36 dark-mode-transition\"\n            style={{ \n              backgroundColor: isDarkMode ? colors.cardBg : 'white',\n              boxShadow: `0 15px 25px -5px ${colors.accentAlt}30, 0 10px 10px -5px ${colors.accent}20`,\n              opacity: connectingDoctor && connectingDoctor.availability.includes('Available') && \n                      !connectingDoctor.availability.includes('in') ? 1 : 0.7\n            }}\n            onClick={async () => {\n              // Check if a doctor is connecting before allowing video call\n              if (!connectingDoctor) {\n                displayToast(\"Please connect to a doctor first\");\n                return;\n              }\n              \n              // Check if the connecting doctor is available now\n              const isAvailableNow = connectingDoctor.availability.includes('Available') && \n                                   !connectingDoctor.availability.includes('in');\n              \n              if (!isAvailableNow) {\n                displayToast(`${connectingDoctor.name} is not available for video call right now`);\n                return;\n              }\n              \n              // Check if the doctor is online\n              const isOnline = await checkDoctorOnline(connectingDoctor.id);\n              \n              if (!isOnline) {\n                displayToast(`${connectingDoctor.name} is not online. Please try again later.`);\n                return;\n              }\n              \n              // Start video call with the connecting doctor\n              setShowVideoCall(true);\n              // The actual WebRTC call will be initiated by the VideoCallScreen component\n            }}\n          >\n            {/* Background gradient effect */}\n            <div className=\"absolute inset-0 opacity-10\" \n                style={{ \n                  background: `linear-gradient(135deg, ${colors.accentAlt}, ${colors.accent})`,\n                }}></div>\n            \n            {/* Icon container */}\n            <div className=\"w-20 h-20 rounded-full mb-4 flex items-center justify-center shadow-lg transition-all duration-500 relative z-10\" \n                style={{ \n                  background: `linear-gradient(135deg, ${colors.accentAlt}, ${colors.accent})`,\n                  boxShadow: `0 0 20px ${colors.accentAlt}40`\n                }}>\n              <Video size={32} color=\"white\" />\n              \n              {/* Shimmer effect */}\n              <div className=\"absolute inset-0 rounded-full overflow-hidden\">\n                <div className=\"shimmer-effect absolute inset-0\"></div>\n              </div>\n            </div>\n            \n            {/* Label */}\n            <span className=\"text-base font-semibold z-10 dark-mode-transition\" style={{ color: colors.accentAlt }}>Video Call</span>\n            \n            {/* Subtle indicator dots */}\n            <div className=\"absolute bottom-4 right-4 flex space-x-1\">\n              <div className=\"w-2 h-2 rounded-full dark-mode-transition\" style={{ backgroundColor: isDarkMode ? `${colors.accentAlt}60` : `${colors.accentAlt}40` }}></div>\n              <div className=\"w-2 h-2 rounded-full animate-pulse\" style={{ backgroundColor: isDarkMode ? `${colors.accentAlt}90` : `${colors.accentAlt}80` }}></div>\n              <div className=\"w-2 h-2 rounded-full dark-mode-transition\" style={{ backgroundColor: isDarkMode ? `${colors.accentAlt}60` : `${colors.accentAlt}40` }}></div>\n            </div>\n          </button>\n        </div>\n      </div>\n      \n      {/* Recent messages with enhanced card design and animations */}\n      <div className={`transition-all duration-500 ${headerVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`} style={{ transitionDelay: '500ms' }}>\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"font-bold text-lg dark-mode-transition\" style={{ color: colors.textPrimary }}>Recent Messages</h3>\n          <button className=\"text-sm font-medium px-3 py-1 rounded-full transition-all duration-300 hover:shadow-md dark-mode-transition\" \n                  style={{ \n                    color: colors.primary, \n                    backgroundColor: isDarkMode ? `${colors.primary}20` : `${colors.primary}10` \n                  }}>\n            View all\n          </button>\n        </div>\n        \n        <div className=\"space-y-4\">\n          <MessageCard\n            doctor=\"Dr. Johnson\"\n            message=\"Your latest blood pressure readings look good. Keep up the good work with the diet modifications we discussed!\"\n            time=\"Today, 10:23 AM\"\n            unread={true}\n            colors={colors}\n          />\n          <MessageCard\n            doctor=\"Dr. Smith\"\n            message=\"I've adjusted your medication schedule based on your recent feedback. Please review the changes in your medication section.\"\n            time=\"Yesterday, 4:15 PM\"\n            unread={false}\n            colors={colors}\n          />\n          <MessageCard\n            doctor=\"Nurse Williams\"\n            message=\"How are you feeling after the new medication? Any side effects to report?\"\n            time=\"Mar 20, 9:30 AM\"\n            unread={false}\n            colors={colors}\n          />\n        </div>\n      </div>\n      \n      {/* Message Dialog */}\n      <MessageDialog \n        isOpen={showMessageDialog}\n        onClose={() => {\n          setShowMessageDialog(false);\n          setSchedulingDoctor(null); // Reset scheduling state on close\n        }}\n        colors={colors}\n        recipient={schedulingDoctor || connectingDoctor} // Use scheduling doctor if set\n        doctors={doctors}\n      />\n      \n      {/* Video Call Screen */}\n      <VideoCallScreen \n        isOpen={showVideoCall}\n        onClose={() => setShowVideoCall(false)}\n        colors={colors}\n        doctor={connectingDoctor} // Use connecting doctor for video call\n      />\n      \n      {/* IMPROVED: Enhanced incoming call UI with more attention-grabbing design and higher z-index */}\n      {incomingCallInfo && (\n        <div className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm animate-fade-in\">\n          <div className=\"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-2xl max-w-md w-full mx-4 animate-bounce-in\">\n            <div className=\"p-6 text-center\">\n              <div className=\"w-28 h-28 rounded-full mx-auto mb-4 relative overflow-hidden border-4 animate-pulse\" \n                  style={{ borderColor: colors.primary }}>\n                <img \n                  src={incomingCallInfo.doctor.image} \n                  alt={incomingCallInfo.doctor.name} \n                  className=\"w-full h-full object-cover\"\n                />\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <div className=\"w-full h-full bg-black bg-opacity-20 flex items-center justify-center\">\n                    <div className=\"w-20 h-20 rounded-full border-4 border-white border-opacity-60 border-t-transparent animate-spin\"></div>\n                  </div>\n                </div>\n              </div>\n              \n              <h3 className=\"text-2xl font-bold mb-2 dark:text-white\">{incomingCallInfo.doctor.name}</h3>\n              <p className=\"text-md text-gray-500 dark:text-gray-300 mb-6 animate-pulse\">Incoming video call...</p>\n              \n              <div className=\"flex justify-center space-x-6\">\n                <button \n                  className=\"w-18 h-18 rounded-full flex items-center justify-center shadow-lg transform transition-transform hover:scale-110\"\n                  style={{ backgroundColor: colors.danger }}\n                  onClick={rejectIncomingCall}\n                >\n                  <div className=\"w-16 h-16 rounded-full flex items-center justify-center bg-red-600\">\n                    <Phone size={30} className=\"text-white transform rotate-135\" />\n                  </div>\n                </button>\n                \n                <button \n                  className=\"w-18 h-18 rounded-full flex items-center justify-center shadow-lg transform transition-transform hover:scale-110\"\n                  style={{ backgroundColor: colors.success }}\n                  onClick={() => acceptIncomingCall(incomingCallInfo.doctor)}\n                >\n                  <div className=\"w-16 h-16 rounded-full flex items-center justify-center bg-green-600 animate-pulse\">\n                    <Phone size={30} className=\"text-white\" />\n                  </div>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      \n      {/* Enhanced toast with longer display time */}\n      <div \n        className={`fixed bottom-24 left-1/2 transform -translate-x-1/2 rounded-xl px-4 py-3 shadow-lg transition-all duration-300 z-50 dark-mode-transition ${\n          activeToast ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-10 pointer-events-none'\n        }`}\n        style={{ \n          maxWidth: '90%',\n          backgroundColor: isDarkMode ? colors.cardBg : 'white',\n          boxShadow: `0 15px 30px -5px ${colors.primary}30`\n        }}\n      >\n        <div className=\"text-sm font-medium dark-mode-transition\" style={{ color: colors.textPrimary }}>\n          {activeToast}\n        </div>\n      </div>\n      \n      {/* Custom CSS for animations */}\n      <style jsx>{`\n        @keyframes shimmer {\n          0% { background-position: -100% 0; }\n          100% { background-position: 200% 0; }\n        }\n        \n        .shimmer-effect {\n          background: linear-gradient(\n            90deg,\n            rgba(255, 255, 255, 0) 0%,\n            rgba(255, 255, 255, 0.4) 50%,\n            rgba(255, 255, 255, 0) 100%\n          );\n          background-size: 200% 100%;\n          animation: shimmer 2s infinite linear;\n        }\n        \n        .dark .shimmer-effect {\n          background: linear-gradient(\n            90deg,\n            rgba(30, 41, 59, 0) 0%,\n            rgba(30, 41, 59, 0.4) 50%,\n            rgba(30, 41, 59, 0) 100%\n          );\n          background-size: 200% 100%;\n          animation: shimmer 2s infinite linear;\n        }\n        \n        .hide-scrollbar::-webkit-scrollbar {\n          display: none;\n        }\n        \n        .hide-scrollbar {\n          -ms-overflow-style: none;\n          scrollbar-width: none;\n        }\n        \n        @keyframes bounce-in {\n          0% { transform: scale(0.8); opacity: 0; }\n          70% { transform: scale(1.05); opacity: 1; }\n          100% { transform: scale(1); opacity: 1; }\n        }\n        .animate-bounce-in {\n          animation: bounce-in 0.5s ease-out forwards;\n        }\n        \n        @keyframes fade-in {\n          0% { opacity: 0; }\n          100% { opacity: 1; }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.3s ease-out forwards;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default ConnectScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}