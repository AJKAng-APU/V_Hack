{"ast":null,"code":"var _jsxFileName = \"/Users/ang/V_Hack_Ver3/frontend2/src/components/screens/SignInScreen.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useTheme } from '../ThemeContext';\nimport supabase from '../supabaseClient';\nimport { useAuth } from '../AuthProvider';\nimport webRTCService from '../services/WebRTCService';\nimport { Loader } from 'lucide-react';\n\n// Sign In Screen with email verification and 2FA handling\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignInScreen = ({\n  colors,\n  setActiveScreen,\n  setIsAuthenticated\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [emailFocused, setEmailFocused] = useState(false);\n  const [passwordFocused, setPasswordFocused] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [loginAttempts, setLoginAttempts] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n  const {\n    isDarkMode\n  } = useTheme();\n  const {\n    sendVerificationEmail\n  } = useAuth();\n\n  // New state for verification flow\n  const [needsVerification, setNeedsVerification] = useState(false);\n  const [verificationSent, setVerificationSent] = useState(false);\n\n  // New state for 2FA handling\n  const [tfaRequired, setTfaRequired] = useState(false);\n  const [tfaCode, setTfaCode] = useState('');\n  const [factorId, setFactorId] = useState(null);\n  const [challengeId, setChallengeId] = useState(null);\n  const [tfaCodeFocused, setTfaCodeFocused] = useState(false);\n\n  // Floating elements effect with mouse position\n  const [mousePosition, setMousePosition] = useState({\n    x: 0,\n    y: 0\n  });\n  useEffect(() => {\n    const handleMouseMove = e => {\n      const {\n        clientX,\n        clientY\n      } = e;\n      const x = clientX / window.innerWidth - 0.5;\n      const y = clientY / window.innerHeight - 0.5;\n      setMousePosition({\n        x,\n        y\n      });\n    };\n    window.addEventListener('mousemove', handleMouseMove);\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, []);\n  const handleSignIn = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    setErrorMessage('');\n    setNeedsVerification(false);\n\n    // Reset all 2FA state to avoid conflicts with previous sessions\n    setTfaRequired(false);\n    setTfaCode('');\n    setFactorId(null);\n    setChallengeId(null);\n    try {\n      // Check if it's a demo login\n      if (email.toLowerCase() === 'demo@healthsync.com' && password === 'demo') {\n        // Set demo session\n        localStorage.setItem('healthsync_auth', 'true');\n        localStorage.setItem('healthsync_user', JSON.stringify({\n          id: 999,\n          name: 'Demo User',\n          email: 'demo@healthsync.com',\n          isPremium: true,\n          emailVerified: true\n        }));\n        setIsAuthenticated(true);\n        setActiveScreen('dashboard');\n        return;\n      }\n\n      // Check if it's a doctor demo login\n      if (email.toLowerCase() === 'doctor@healthsync.com' && password === 'doctor') {\n        // Set doctor demo session\n        const doctorId = 1;\n        localStorage.setItem('healthsync_auth', 'true');\n        localStorage.setItem('is_doctor', 'true');\n        localStorage.setItem('doctor_id', `doctor-${doctorId}`);\n        localStorage.setItem('healthsync_user', JSON.stringify({\n          id: 1001,\n          name: 'Dr. Johnson',\n          email: 'doctor@healthsync.com',\n          isPremium: true,\n          emailVerified: true,\n          isDoctor: true,\n          doctorId: doctorId,\n          specialty: 'Cardiologist',\n          doctorAvailability: true,\n          doctorRating: 5\n        }));\n\n        // Initialize WebRTC with doctor ID\n        const doctorSocketId = `doctor-${doctorId}`;\n        setTimeout(() => {\n          if (webRTCService) {\n            webRTCService.initialize(doctorSocketId);\n\n            // Register with signaling server\n            setTimeout(() => {\n              if (webRTCService.signalingService && webRTCService.signalingService.isConnected()) {\n                webRTCService.signalingService.send('register', doctorSocketId);\n                console.log(`Demo doctor registered with socket: ${doctorSocketId}`);\n              }\n            }, 1000);\n          }\n        }, 500);\n        setIsAuthenticated(true);\n        setActiveScreen('dashboard');\n        return;\n      }\n\n      // Authenticate with Supabase\n      const {\n        data,\n        error\n      } = await supabase.auth.signInWithPassword({\n        email,\n        password\n      });\n      if (error) {\n        throw error;\n      }\n      if (data !== null && data !== void 0 && data.user) {\n        // Check if email is verified\n        const isEmailVerified = data.user.email_confirmed_at !== null;\n        if (!isEmailVerified) {\n          // Email not verified - show verification message instead of proceeding\n          setNeedsVerification(true);\n          setIsLoading(false);\n          return;\n        }\n\n        // Check if MFA is required - NEW 2FA HANDLING\n        if (data.user.factors && data.user.factors.length > 0) {\n          setFactorId(data.user.factors[0].id);\n          setTfaRequired(true);\n          setIsLoading(false);\n\n          // Create a challenge for verification\n          const {\n            data: challengeData,\n            error: challengeError\n          } = await supabase.auth.mfa.challenge({\n            factorId: data.user.factors[0].id\n          });\n          if (challengeError) {\n            throw challengeError;\n          }\n          setChallengeId(challengeData.id);\n          return;\n        }\n\n        // Email is verified and no 2FA required - proceed with login\n        // Get user profile from the users table with doctor info\n        const {\n          data: userData,\n          error: userError\n        } = await supabase.from('users').select('*, doctor:doctors(*)').eq('email', email).single();\n        if (userError) {\n          throw userError;\n        }\n\n        // Build user info object with potential doctor details\n        const userInfo = {\n          id: userData.user_id,\n          name: userData.name,\n          email: userData.email,\n          isPremium: userData.is_premium,\n          avatar: userData.avatar_url,\n          emailVerified: true,\n          isDoctor: userData.is_doctor || false\n        };\n\n        // If user is a doctor, add doctor details\n        if (userData.is_doctor && userData.doctor) {\n          userInfo.doctorId = userData.doctor_id;\n          userInfo.specialty = userData.doctor.specialty;\n          userInfo.doctorAvailability = userData.doctor.availability;\n          userInfo.doctorRating = userData.doctor.rating;\n\n          // Store doctor info in localStorage\n          localStorage.setItem('is_doctor', 'true');\n          localStorage.setItem('doctor_id', `doctor-${userData.doctor_id}`);\n\n          // Initialize WebRTC with doctor ID if it's a doctor\n          const doctorSocketId = `doctor-${userData.doctor_id}`;\n          setTimeout(() => {\n            if (webRTCService) {\n              webRTCService.initialize(doctorSocketId);\n\n              // Register with signaling server\n              setTimeout(() => {\n                if (webRTCService.signalingService && webRTCService.signalingService.isConnected()) {\n                  webRTCService.signalingService.send('register', doctorSocketId);\n                  console.log(`Doctor logged in and registered with socket: ${doctorSocketId}`);\n                }\n              }, 1000);\n            }\n          }, 500);\n        } else {\n          // Clear doctor flags for non-doctor users\n          localStorage.setItem('is_doctor', 'false');\n          localStorage.removeItem('doctor_id');\n        }\n\n        // Store user data in localStorage for app state\n        localStorage.setItem('healthsync_auth', 'true');\n        localStorage.setItem('healthsync_user', JSON.stringify(userInfo));\n\n        // Get user preferences for dark mode\n        const {\n          data: prefsData\n        } = await supabase.from('user_preferences').select('enable_dark_mode').eq('user_id', userData.user_id).single();\n        if (prefsData) {\n          localStorage.setItem('healthsync_dark_mode', prefsData.enable_dark_mode);\n        }\n\n        // Update state and redirect\n        setIsAuthenticated(true);\n        setActiveScreen('dashboard');\n      }\n    } catch (error) {\n      console.error('Error signing in:', error.message);\n      setLoginAttempts(loginAttempts + 1);\n      setErrorMessage(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // New handler for 2FA verification\n  const handleVerifyMFA = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    setErrorMessage('');\n    try {\n      // Validate the code\n      if (!/^\\d{6}$/.test(tfaCode)) {\n        throw new Error('Please enter a valid 6-digit code. It\\'s not rocket science!');\n      }\n\n      // Verify the challenge\n      const {\n        data,\n        error\n      } = await supabase.auth.mfa.verify({\n        factorId: factorId,\n        challengeId: challengeId,\n        code: tfaCode\n      });\n      if (error) {\n        throw error;\n      }\n\n      // MFA verification successful, proceed with login\n      // Get user profile from the users table with doctor info\n      const {\n        data: userData,\n        error: userError\n      } = await supabase.from('users').select('*, doctor:doctors(*)').eq('email', email).single();\n      if (userError) {\n        throw userError;\n      }\n\n      // Build user info object with potential doctor details\n      const userInfo = {\n        id: userData.user_id,\n        name: userData.name,\n        email: userData.email,\n        isPremium: userData.is_premium,\n        avatar: userData.avatar_url,\n        emailVerified: true,\n        isDoctor: userData.is_doctor || false,\n        twoFactorEnabled: true\n      };\n\n      // If user is a doctor, add doctor details\n      if (userData.is_doctor && userData.doctor) {\n        userInfo.doctorId = userData.doctor_id;\n        userInfo.specialty = userData.doctor.specialty;\n        userInfo.doctorAvailability = userData.doctor.availability;\n        userInfo.doctorRating = userData.doctor.rating;\n\n        // Store doctor info in localStorage\n        localStorage.setItem('is_doctor', 'true');\n        localStorage.setItem('doctor_id', `doctor-${userData.doctor_id}`);\n\n        // Initialize WebRTC with doctor ID if it's a doctor\n        const doctorSocketId = `doctor-${userData.doctor_id}`;\n        setTimeout(() => {\n          if (webRTCService) {\n            webRTCService.initialize(doctorSocketId);\n\n            // Register with signaling server\n            setTimeout(() => {\n              if (webRTCService.signalingService && webRTCService.signalingService.isConnected()) {\n                webRTCService.signalingService.send('register', doctorSocketId);\n                console.log(`Doctor logged in and registered with socket: ${doctorSocketId}`);\n              }\n            }, 1000);\n          }\n        }, 500);\n      } else {\n        // Clear doctor flags for non-doctor users\n        localStorage.setItem('is_doctor', 'false');\n        localStorage.removeItem('doctor_id');\n      }\n\n      // Store user data in localStorage for app state\n      localStorage.setItem('healthsync_auth', 'true');\n      localStorage.setItem('healthsync_user', JSON.stringify(userInfo));\n\n      // Get user preferences for dark mode\n      const {\n        data: prefsData\n      } = await supabase.from('user_preferences').select('enable_dark_mode').eq('user_id', userData.user_id).single();\n      if (prefsData) {\n        localStorage.setItem('healthsync_dark_mode', prefsData.enable_dark_mode);\n      }\n\n      // Update state and redirect\n      setIsAuthenticated(true);\n      setActiveScreen('dashboard');\n    } catch (error) {\n      console.error('Error verifying 2FA:', error.message);\n      setErrorMessage(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Function to request a verification email\n  const handleResendVerification = async () => {\n    setIsLoading(true);\n    setErrorMessage('');\n    try {\n      const result = await sendVerificationEmail(email);\n      if (result.success) {\n        setVerificationSent(true);\n        setErrorMessage(result.message);\n      } else {\n        setErrorMessage(result.error || 'Failed to send verification email');\n      }\n    } catch (error) {\n      setErrorMessage('An error occurred. Please try again later.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Get sassy message based on login attempts or error\n  const getSassyMessage = () => {\n    if (errorMessage && !needsVerification && !tfaRequired) {\n      return errorMessage;\n    }\n    if (loginAttempts === 0) return null;\n    const messages = [\"Hmm, that's not quite right. Give it another shot!\", \"Nope! Are you sure you're you? 🤔\", \"Still not working, bestie. Maybe try 'password123'? (Kidding, don't)\", \"OK seriously, do you need the 'forgot password' link? It's right there 👆\", \"At this point, I'm impressed by your persistence. Very admirable.\"];\n    return messages[Math.min(loginAttempts - 1, messages.length - 1)];\n  };\n\n  // Calculate dynamic colors for dark mode compatibility\n  const bgGradientStart = isDarkMode ? 'rgba(15, 23, 42, 0.3)' : 'rgba(255, 255, 255, 0.1)';\n  const bgGradientEnd = isDarkMode ? 'rgba(15, 23, 42, 0.1)' : 'rgba(255, 255, 255, 0.1)';\n  const cardBg = isDarkMode ? 'rgba(30, 41, 59, 0.7)' : 'rgba(255, 255, 255, 0.1)';\n  const cardBorder = isDarkMode ? 'rgba(255, 255, 255, 0.05)' : 'rgba(255, 255, 255, 0.2)';\n  const inputBg = isDarkMode ? 'rgba(15, 23, 42, 0.3)' : 'rgba(255, 255, 255, 0.1)';\n  const textColor = isDarkMode ? colors.textPrimary : '#0F172A';\n  const sassyMsgBg = isDarkMode ? 'rgba(15, 23, 42, 0.6)' : 'rgba(255, 255, 255, 0.1)';\n\n  // Handle forgot password\n  const handleForgotPassword = async () => {\n    if (!email) {\n      setErrorMessage('Please enter your email first');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const {\n        error\n      } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${window.location.origin}/reset-password`\n      });\n      if (error) throw error;\n      alert(`Password reset link sent to ${email}`);\n    } catch (error) {\n      setErrorMessage(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Email verification needed component\n  const VerificationNeededMessage = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 py-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2 dark-mode-transition\",\n      style: {\n        backgroundColor: colors.warning + '30'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: colors.warning,\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M22 12h-4l-3 9L9 3l-3 9H2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold bg-gradient-to-r from-yellow-200 to-yellow-100 bg-clip-text text-transparent mb-2\",\n        children: \"Email Verification Required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-white text-opacity-80 mb-6\",\n        children: [\"Your account exists, but you need to verify your email address \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 74\n        }, this), \" before you can sign in.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this), verificationSent ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 rounded-xl animate-pulse mb-4\",\n        style: {\n          backgroundColor: colors.success + '20'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          style: {\n            color: colors.success\n          },\n          children: \"Verification email sent! Please check your inbox (including spam folder).\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleResendVerification,\n        disabled: isLoading,\n        className: \"w-full py-3 rounded-xl text-white font-medium transition-all duration-300 flex items-center justify-center dark-mode-transition\",\n        style: {\n          backgroundColor: colors.warning,\n          boxShadow: `0 4px 12px -2px ${colors.warning}60`\n        },\n        children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Sending email...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 15\n        }, this) : 'Resend Verification Email'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 11\n      }, this), errorMessage && verificationSent && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-sm\",\n        style: {\n          color: colors.success\n        },\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 11\n      }, this), errorMessage && !verificationSent && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-sm\",\n        style: {\n          color: colors.danger\n        },\n        children: errorMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 pt-6 border-t border-white border-opacity-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setNeedsVerification(false);\n            setVerificationSent(false);\n            setErrorMessage('');\n          },\n          className: \"text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors\",\n          children: \"\\u2190 Back to sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 423,\n    columnNumber: 5\n  }, this);\n\n  // New: 2FA verification component\n  const TwoFactorVerificationForm = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6 py-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2 dark-mode-transition\",\n      style: {\n        backgroundColor: colors.accent + '30'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 24 24\",\n        fill: \"none\",\n        stroke: colors.accent,\n        strokeWidth: \"2\",\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n          x: \"3\",\n          y: \"11\",\n          width: \"18\",\n          height: \"11\",\n          rx: \"2\",\n          ry: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M7 11V7a5 5 0 0 1 10 0v4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold bg-gradient-to-r from-blue-200 to-cyan-200 bg-clip-text text-transparent mb-2\",\n        children: \"Two-Factor Authentication Required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-white text-opacity-80 mb-6\",\n        children: \"Please enter the 6-digit code from your authenticator app to complete the sign-in process.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-3 rounded-xl backdrop-blur-md mb-4 animate-bounce-once text-center\",\n        style: {\n          backgroundColor: sassyMsgBg\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          style: {\n            color: colors.danger\n          },\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleVerifyMFA,\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `relative rounded-xl overflow-hidden transition-all duration-300 \n                      ${tfaCodeFocused ? 'ring-2 ring-blue-500 shadow-lg' : 'shadow-sm'}`,\n          style: {\n            boxShadow: tfaCodeFocused ? `0 0 15px ${colors.primary}40` : `0 4px 6px -1px ${colors.primary}10`\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: tfaCode,\n            onChange: e => setTfaCode(e.target.value.replace(/[^0-9]/g, '').substring(0, 6)),\n            onFocus: () => setTfaCodeFocused(true),\n            onBlur: () => setTfaCodeFocused(false),\n            className: \"w-full px-4 py-4 bg-transparent backdrop-blur-md border-none focus:outline-none dark-mode-transition text-center text-2xl tracking-widest font-mono\",\n            style: {\n              color: colors.textPrimary\n            },\n            placeholder: \"000000\",\n            maxLength: 6,\n            required: true,\n            inputMode: \"numeric\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 -z-10 dark-mode-transition\",\n            style: {\n              background: `linear-gradient(to right, ${colors.primary}15, ${colors.accent}10)`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 544,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full py-4 rounded-xl text-white font-medium transition-all duration-500 hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center overflow-hidden relative\",\n          style: {\n            background: `linear-gradient(45deg, ${colors.primary}, ${colors.accent}, ${colors.accentAlt}, ${colors.primary})`,\n            backgroundSize: '300% 300%',\n            animation: 'gradientShift 5s ease infinite',\n            boxShadow: `0 10px 25px -5px ${colors.primary}60, 0 0 15px ${colors.neonAccent}30`\n          },\n          disabled: isLoading || tfaCode.length !== 6,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20\",\n            style: {\n              transform: 'translateX(-100%)',\n              animation: 'shimmerEffect 2.5s infinite'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 559,\n            columnNumber: 13\n          }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Loader, {\n              className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 566,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Verifying code...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 15\n          }, this) : 'Verify & Sign In']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 pt-6 border-t border-white border-opacity-10\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setTfaRequired(false);\n            setTfaCode('');\n            setErrorMessage('');\n          },\n          className: \"text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors\",\n          children: \"\\u2190 Back to sign in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 496,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 pb-8 h-full flex flex-col overflow-hidden relative dark-mode-transition\",\n    style: {\n      background: `radial-gradient(circle at 30% 50%, ${colors.primary}05, transparent 35%),\n                       radial-gradient(circle at 70% 80%, ${colors.accent}05, transparent 35%)`\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 overflow-hidden pointer-events-none\",\n      children: [...Array(8)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute rounded-full opacity-20 dark-mode-transition\",\n        style: {\n          width: Math.random() * 80 + 40 + 'px',\n          height: Math.random() * 80 + 40 + 'px',\n          left: Math.random() * 100 + '%',\n          top: Math.random() * 100 + '%',\n          background: `linear-gradient(135deg, ${colors.primary}80, ${colors.accent}60)`,\n          filter: 'blur(20px)',\n          animation: `float ${Math.random() * 8 + 12}s ease-in-out infinite`,\n          animationDelay: `${Math.random() * 5}s`,\n          transform: `translate3d(${mousePosition.x * -20}px, ${mousePosition.y * -20}px, 0)`\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 600,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 flex flex-col items-center justify-center z-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-12 text-center transform-gpu\",\n        style: {\n          transform: `translate3d(${mousePosition.x * 10}px, ${mousePosition.y * 10}px, 0)`,\n          transition: 'transform 0.1s ease-out'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative mx-auto w-24 h-24 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"absolute -inset-8 rounded-full animate-pulse opacity-40\",\n            style: {\n              background: `radial-gradient(circle, ${colors.neonAccent}, transparent 50%)`,\n              filter: 'blur(1px)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 626,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-full rounded-full overflow-hidden flex items-center justify-center shadow-lg dark-mode-transition\",\n            style: {\n              boxShadow: `0 10px 25px -5px ${colors.primary}50, 0 0 15px ${colors.neonAccent}40`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/logo.jpg\",\n              alt: \"Logo\",\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 14\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 625,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold bg-gradient-to-br from-white via-blue-400 to-blue-600 bg-clip-text text-transparent mb-2\",\n          children: \"HealthSync\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-base dark-mode-transition\",\n          style: {\n            color: colors.textSecondary\n          },\n          children: [\"Your \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400\",\n            children: \"AI Health Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 648,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 620,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-sm relative\",\n        style: {\n          transform: `translate3d(${mousePosition.x * -5}px, ${mousePosition.y * -5}px, 0)`,\n          transition: 'transform 0.2s ease-out'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute -inset-6 rounded-3xl opacity-20 bg-blue-500 blur-xl dark-mode-transition\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative p-6 rounded-2xl backdrop-blur-md border dark-mode-transition\",\n          style: {\n            background: cardBg,\n            borderColor: cardBorder,\n            boxShadow: `\n                   0 10px 25px -5px rgba(0, 0, 0, 0.1),\n                   0 0 10px ${colors.primary}20\n                 `\n          },\n          children: [getSassyMessage() && !needsVerification && !tfaRequired && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 rounded-xl backdrop-blur-md mb-4 animate-bounce-once text-center dark-mode-transition\",\n            style: {\n              backgroundColor: sassyMsgBg\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm dark-mode-transition\",\n              style: {\n                color: isDarkMode ? colors.textPrimary : textColor\n              },\n              children: getSassyMessage()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 673,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 15\n          }, this), needsVerification ? /*#__PURE__*/_jsxDEV(VerificationNeededMessage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 15\n          }, this) : tfaRequired ? /*#__PURE__*/_jsxDEV(TwoFactorVerificationForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 682,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSignIn,\n            className: \"space-y-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium transition-all duration-300 ${emailFocused ? 'text-blue-500' : ''}`,\n                  style: {\n                    color: emailFocused ? colors.accent : colors.textPrimary\n                  },\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs cursor-pointer dark-mode-transition\",\n                  style: {\n                    color: colors.textSecondary\n                  },\n                  children: \"Try demo@healthsync.com\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 692,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 686,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `relative rounded-xl overflow-hidden transition-all duration-300 \n                      ${emailFocused ? 'ring-2 ring-blue-500 shadow-lg' : 'shadow-sm'}`,\n                style: {\n                  boxShadow: emailFocused ? `0 0 15px ${colors.primary}40` : `0 4px 6px -1px ${colors.primary}10`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"email\",\n                  value: email,\n                  onChange: e => setEmail(e.target.value),\n                  onFocus: () => setEmailFocused(true),\n                  onBlur: () => setEmailFocused(false),\n                  className: \"w-full px-4 py-4 bg-transparent backdrop-blur-md border-none focus:outline-none dark-mode-transition\",\n                  style: {\n                    color: colors.textPrimary\n                  },\n                  placeholder: \"name@example.com\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 703,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 -z-10 dark-mode-transition\",\n                  style: {\n                    background: `linear-gradient(to right, ${colors.primary}15, ${colors.accent}10)`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 714,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 685,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: `block text-sm font-medium transition-all duration-300 ${passwordFocused ? 'text-blue-500' : ''}`,\n                  style: {\n                    color: passwordFocused ? colors.accent : colors.textPrimary\n                  },\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 721,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: handleForgotPassword,\n                  className: \"text-xs font-medium transition-all duration-300 hover:text-blue-400\",\n                  style: {\n                    color: colors.primary\n                  },\n                  children: \"Forgot password?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 725,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `relative rounded-xl overflow-hidden transition-all duration-300 \n                      ${passwordFocused ? 'ring-2 ring-blue-500 shadow-lg' : 'shadow-sm'}`,\n                style: {\n                  boxShadow: passwordFocused ? `0 0 15px ${colors.primary}40` : `0 4px 6px -1px ${colors.primary}10`\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: showPassword ? \"text\" : \"password\",\n                  value: password,\n                  onChange: e => setPassword(e.target.value),\n                  onFocus: () => setPasswordFocused(true),\n                  onBlur: () => setPasswordFocused(false),\n                  className: \"w-full px-4 py-4 bg-transparent backdrop-blur-md border-none focus:outline-none pr-12 dark-mode-transition\",\n                  placeholder: loginAttempts > 2 ? \"Hint: try 'demo'\" : \"••••••••\",\n                  required: true,\n                  style: {\n                    color: colors.textPrimary\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 740,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"absolute right-3 top-1/2 transform -translate-y-1/2 opacity-70 hover:opacity-100 transition-opacity dark-mode-transition\",\n                  onClick: () => setShowPassword(!showPassword),\n                  style: {\n                    color: colors.textPrimary\n                  },\n                  children: showPassword ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"20\",\n                    height: \"20\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 759,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n                      cx: \"12\",\n                      cy: \"12\",\n                      r: \"3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 760,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 758,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                    width: \"20\",\n                    height: \"20\",\n                    viewBox: \"0 0 24 24\",\n                    fill: \"none\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"2\",\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 764,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                      x1: \"1\",\n                      y1: \"1\",\n                      x2: \"23\",\n                      y2: \"23\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 765,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 763,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 751,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"absolute inset-0 -z-10 dark-mode-transition\",\n                  style: {\n                    background: `linear-gradient(to right, ${colors.primary}15, ${colors.accent}10)`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 769,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-500 bg-opacity-10 p-2 rounded-md text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1 text-blue-300\",\n                children: \"Quick Login Options:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 776,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-1\",\n                children: [\"\\u2022 Patient: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"demo@healthsync.com\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 50\n                }, this), \" / \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"demo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 777,\n                  columnNumber: 89\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 777,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u2022 Doctor: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"doctor@healthsync.com\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 778,\n                  columnNumber: 32\n                }, this), \" / \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"doctor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 778,\n                  columnNumber: 73\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 775,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"w-full py-4 rounded-xl text-white font-medium transition-all duration-500 hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center overflow-hidden relative\",\n              style: {\n                background: `linear-gradient(45deg, ${colors.primary}, ${colors.accent}, ${colors.accentAlt}, ${colors.primary})`,\n                backgroundSize: '300% 300%',\n                animation: 'gradientShift 5s ease infinite',\n                boxShadow: `0 10px 25px -5px ${colors.primary}60, 0 0 15px ${colors.neonAccent}30`\n              },\n              disabled: isLoading,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20\",\n                style: {\n                  transform: 'translateX(-100%)',\n                  animation: 'shimmerEffect 2.5s infinite'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 792,\n                columnNumber: 19\n              }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: loginAttempts > 1 ? \"Let's hope it works this time...\" : \"Signing in...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 798,\n                columnNumber: 21\n              }, this) : loginAttempts > 2 ? \"Oh alright, let me in\" : \"Sign in\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 text-center z-10\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm dark-mode-transition\",\n        style: {\n          color: colors.textSecondary\n        },\n        children: [\"Need an account? \", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveScreen('register'),\n          className: \"font-medium transition-all duration-300 hover:text-blue-300 relative\",\n          style: {\n            color: colors.accent\n          },\n          children: [\"Create one in 10 seconds\", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute bottom-0 left-0 w-full h-0.5 bg-blue-400 transform scale-x-0 origin-left transition-transform duration-300 hover:scale-x-100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 821,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 815,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 813,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 812,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        @keyframes gradientShift {\n          0% { background-position: 0% 50% }\n          50% { background-position: 100% 50% }\n          100% { background-position: 0% 50% }\n        }\n        @keyframes shimmerEffect {\n          100% { transform: translateX(100%); }\n        }\n        @keyframes float {\n          0% { transform: translateY(0px) translateX(0px); }\n          50% { transform: translateY(-20px) translateX(10px); }\n          100% { transform: translateY(0px) translateX(0px); }\n        }\n        @keyframes bounce-once {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        input::placeholder {\n          color: rgba(255, 255, 255, 0.5);\n        }\n        .animate-bounce-once {\n          animation: bounce-once 0.8s ease;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 826,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 592,\n    columnNumber: 5\n  }, this);\n};\n_s(SignInScreen, \"L4pEmbi2TMpnoiZOSVfTah/GwnU=\", false, function () {\n  return [useTheme, useAuth];\n});\n_c = SignInScreen;\nexport default SignInScreen;\nvar _c;\n$RefreshReg$(_c, \"SignInScreen\");","map":{"version":3,"names":["React","useState","useEffect","useTheme","supabase","useAuth","webRTCService","Loader","jsxDEV","_jsxDEV","SignInScreen","colors","setActiveScreen","setIsAuthenticated","_s","email","setEmail","password","setPassword","isLoading","setIsLoading","emailFocused","setEmailFocused","passwordFocused","setPasswordFocused","showPassword","setShowPassword","loginAttempts","setLoginAttempts","errorMessage","setErrorMessage","isDarkMode","sendVerificationEmail","needsVerification","setNeedsVerification","verificationSent","setVerificationSent","tfaRequired","setTfaRequired","tfaCode","setTfaCode","factorId","setFactorId","challengeId","setChallengeId","tfaCodeFocused","setTfaCodeFocused","mousePosition","setMousePosition","x","y","handleMouseMove","e","clientX","clientY","window","innerWidth","innerHeight","addEventListener","removeEventListener","handleSignIn","preventDefault","toLowerCase","localStorage","setItem","JSON","stringify","id","name","isPremium","emailVerified","doctorId","isDoctor","specialty","doctorAvailability","doctorRating","doctorSocketId","setTimeout","initialize","signalingService","isConnected","send","console","log","data","error","auth","signInWithPassword","user","isEmailVerified","email_confirmed_at","factors","length","challengeData","challengeError","mfa","challenge","userData","userError","from","select","eq","single","userInfo","user_id","is_premium","avatar","avatar_url","is_doctor","doctor","doctor_id","availability","rating","removeItem","prefsData","enable_dark_mode","message","handleVerifyMFA","test","Error","verify","code","twoFactorEnabled","handleResendVerification","result","success","getSassyMessage","messages","Math","min","bgGradientStart","bgGradientEnd","cardBg","cardBorder","inputBg","textColor","textPrimary","sassyMsgBg","handleForgotPassword","resetPasswordForEmail","redirectTo","location","origin","alert","VerificationNeededMessage","className","children","style","backgroundColor","warning","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","disabled","boxShadow","danger","TwoFactorVerificationForm","accent","rx","ry","onSubmit","primary","type","value","onChange","target","replace","substring","onFocus","onBlur","placeholder","maxLength","required","inputMode","autoFocus","background","accentAlt","backgroundSize","animation","neonAccent","transform","Array","map","_","i","random","left","top","filter","animationDelay","transition","src","alt","textSecondary","borderColor","cx","cy","r","x1","y1","x2","y2","jsx","_c","$RefreshReg$"],"sources":["/Users/ang/V_Hack_Ver3/frontend2/src/components/screens/SignInScreen.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useTheme } from '../ThemeContext';\nimport supabase from '../supabaseClient';\nimport { useAuth } from '../AuthProvider';\nimport webRTCService from '../services/WebRTCService';\nimport { Loader } from 'lucide-react';\n\n// Sign In Screen with email verification and 2FA handling\nconst SignInScreen = ({ colors, setActiveScreen, setIsAuthenticated }) => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [emailFocused, setEmailFocused] = useState(false);\n  const [passwordFocused, setPasswordFocused] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const [loginAttempts, setLoginAttempts] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n  const { isDarkMode } = useTheme();\n  const { sendVerificationEmail } = useAuth();\n  \n  // New state for verification flow\n  const [needsVerification, setNeedsVerification] = useState(false);\n  const [verificationSent, setVerificationSent] = useState(false);\n  \n  // New state for 2FA handling\n  const [tfaRequired, setTfaRequired] = useState(false);\n  const [tfaCode, setTfaCode] = useState('');\n  const [factorId, setFactorId] = useState(null);\n  const [challengeId, setChallengeId] = useState(null);\n  const [tfaCodeFocused, setTfaCodeFocused] = useState(false);\n  \n  // Floating elements effect with mouse position\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  \n  useEffect(() => {\n    const handleMouseMove = (e) => {\n      const { clientX, clientY } = e;\n      const x = (clientX / window.innerWidth) - 0.5;\n      const y = (clientY / window.innerHeight) - 0.5;\n      setMousePosition({ x, y });\n    };\n    \n    window.addEventListener('mousemove', handleMouseMove);\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, []);\n  \n  const handleSignIn = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setErrorMessage('');\n    setNeedsVerification(false);\n    \n    // Reset all 2FA state to avoid conflicts with previous sessions\n    setTfaRequired(false);\n    setTfaCode('');\n    setFactorId(null);\n    setChallengeId(null);\n    \n    try {\n      // Check if it's a demo login\n      if (email.toLowerCase() === 'demo@healthsync.com' && password === 'demo') {\n        // Set demo session\n        localStorage.setItem('healthsync_auth', 'true');\n        localStorage.setItem('healthsync_user', JSON.stringify({ \n          id: 999,\n          name: 'Demo User',\n          email: 'demo@healthsync.com',\n          isPremium: true,\n          emailVerified: true\n        }));\n        \n        setIsAuthenticated(true);\n        setActiveScreen('dashboard');\n        return;\n      }\n      \n      // Check if it's a doctor demo login\n      if (email.toLowerCase() === 'doctor@healthsync.com' && password === 'doctor') {\n        // Set doctor demo session\n        const doctorId = 1;\n        localStorage.setItem('healthsync_auth', 'true');\n        localStorage.setItem('is_doctor', 'true');\n        localStorage.setItem('doctor_id', `doctor-${doctorId}`);\n        localStorage.setItem('healthsync_user', JSON.stringify({ \n          id: 1001,\n          name: 'Dr. Johnson',\n          email: 'doctor@healthsync.com',\n          isPremium: true,\n          emailVerified: true,\n          isDoctor: true,\n          doctorId: doctorId,\n          specialty: 'Cardiologist',\n          doctorAvailability: true,\n          doctorRating: 5\n        }));\n        \n        // Initialize WebRTC with doctor ID\n        const doctorSocketId = `doctor-${doctorId}`;\n        setTimeout(() => {\n          if (webRTCService) {\n            webRTCService.initialize(doctorSocketId);\n            \n            // Register with signaling server\n            setTimeout(() => {\n              if (webRTCService.signalingService && \n                  webRTCService.signalingService.isConnected()) {\n                webRTCService.signalingService.send('register', doctorSocketId);\n                console.log(`Demo doctor registered with socket: ${doctorSocketId}`);\n              }\n            }, 1000);\n          }\n        }, 500);\n        \n        setIsAuthenticated(true);\n        setActiveScreen('dashboard');\n        return;\n      }\n      \n      // Authenticate with Supabase\n      const { data, error } = await supabase.auth.signInWithPassword({\n        email,\n        password,\n      });\n      \n      if (error) {\n        throw error;\n      }\n      \n      if (data?.user) {\n        // Check if email is verified\n        const isEmailVerified = data.user.email_confirmed_at !== null;\n        \n        if (!isEmailVerified) {\n          // Email not verified - show verification message instead of proceeding\n          setNeedsVerification(true);\n          setIsLoading(false);\n          return;\n        }\n        \n        // Check if MFA is required - NEW 2FA HANDLING\n        if (data.user.factors && data.user.factors.length > 0) {\n          setFactorId(data.user.factors[0].id);\n          setTfaRequired(true);\n          setIsLoading(false);\n          \n          // Create a challenge for verification\n          const { data: challengeData, error: challengeError } = await supabase.auth.mfa.challenge({\n            factorId: data.user.factors[0].id\n          });\n          \n          if (challengeError) {\n            throw challengeError;\n          }\n          \n          setChallengeId(challengeData.id);\n          return;\n        }\n        \n        // Email is verified and no 2FA required - proceed with login\n        // Get user profile from the users table with doctor info\n        const { data: userData, error: userError } = await supabase\n          .from('users')\n          .select('*, doctor:doctors(*)')\n          .eq('email', email)\n          .single();\n          \n        if (userError) {\n          throw userError;\n        }\n        \n        // Build user info object with potential doctor details\n        const userInfo = {\n          id: userData.user_id,\n          name: userData.name,\n          email: userData.email,\n          isPremium: userData.is_premium,\n          avatar: userData.avatar_url,\n          emailVerified: true,\n          isDoctor: userData.is_doctor || false\n        };\n        \n        // If user is a doctor, add doctor details\n        if (userData.is_doctor && userData.doctor) {\n          userInfo.doctorId = userData.doctor_id;\n          userInfo.specialty = userData.doctor.specialty;\n          userInfo.doctorAvailability = userData.doctor.availability;\n          userInfo.doctorRating = userData.doctor.rating;\n          \n          // Store doctor info in localStorage\n          localStorage.setItem('is_doctor', 'true');\n          localStorage.setItem('doctor_id', `doctor-${userData.doctor_id}`);\n          \n          // Initialize WebRTC with doctor ID if it's a doctor\n          const doctorSocketId = `doctor-${userData.doctor_id}`;\n          setTimeout(() => {\n            if (webRTCService) {\n              webRTCService.initialize(doctorSocketId);\n              \n              // Register with signaling server\n              setTimeout(() => {\n                if (webRTCService.signalingService && \n                    webRTCService.signalingService.isConnected()) {\n                  webRTCService.signalingService.send('register', doctorSocketId);\n                  console.log(`Doctor logged in and registered with socket: ${doctorSocketId}`);\n                }\n              }, 1000);\n            }\n          }, 500);\n        } else {\n          // Clear doctor flags for non-doctor users\n          localStorage.setItem('is_doctor', 'false');\n          localStorage.removeItem('doctor_id');\n        }\n        \n        // Store user data in localStorage for app state\n        localStorage.setItem('healthsync_auth', 'true');\n        localStorage.setItem('healthsync_user', JSON.stringify(userInfo));\n        \n        // Get user preferences for dark mode\n        const { data: prefsData } = await supabase\n          .from('user_preferences')\n          .select('enable_dark_mode')\n          .eq('user_id', userData.user_id)\n          .single();\n          \n        if (prefsData) {\n          localStorage.setItem('healthsync_dark_mode', prefsData.enable_dark_mode);\n        }\n        \n        // Update state and redirect\n        setIsAuthenticated(true);\n        setActiveScreen('dashboard');\n      }\n    } catch (error) {\n      console.error('Error signing in:', error.message);\n      setLoginAttempts(loginAttempts + 1);\n      setErrorMessage(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // New handler for 2FA verification\n  const handleVerifyMFA = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setErrorMessage('');\n    \n    try {\n      // Validate the code\n      if (!/^\\d{6}$/.test(tfaCode)) {\n        throw new Error('Please enter a valid 6-digit code. It\\'s not rocket science!');\n      }\n      \n      // Verify the challenge\n      const { data, error } = await supabase.auth.mfa.verify({\n        factorId: factorId,\n        challengeId: challengeId,\n        code: tfaCode\n      });\n      \n      if (error) {\n        throw error;\n      }\n      \n      // MFA verification successful, proceed with login\n      // Get user profile from the users table with doctor info\n      const { data: userData, error: userError } = await supabase\n        .from('users')\n        .select('*, doctor:doctors(*)')\n        .eq('email', email)\n        .single();\n        \n      if (userError) {\n        throw userError;\n      }\n      \n      // Build user info object with potential doctor details\n      const userInfo = {\n        id: userData.user_id,\n        name: userData.name,\n        email: userData.email,\n        isPremium: userData.is_premium,\n        avatar: userData.avatar_url,\n        emailVerified: true,\n        isDoctor: userData.is_doctor || false,\n        twoFactorEnabled: true\n      };\n      \n      // If user is a doctor, add doctor details\n      if (userData.is_doctor && userData.doctor) {\n        userInfo.doctorId = userData.doctor_id;\n        userInfo.specialty = userData.doctor.specialty;\n        userInfo.doctorAvailability = userData.doctor.availability;\n        userInfo.doctorRating = userData.doctor.rating;\n        \n        // Store doctor info in localStorage\n        localStorage.setItem('is_doctor', 'true');\n        localStorage.setItem('doctor_id', `doctor-${userData.doctor_id}`);\n        \n        // Initialize WebRTC with doctor ID if it's a doctor\n        const doctorSocketId = `doctor-${userData.doctor_id}`;\n        setTimeout(() => {\n          if (webRTCService) {\n            webRTCService.initialize(doctorSocketId);\n            \n            // Register with signaling server\n            setTimeout(() => {\n              if (webRTCService.signalingService && \n                  webRTCService.signalingService.isConnected()) {\n                webRTCService.signalingService.send('register', doctorSocketId);\n                console.log(`Doctor logged in and registered with socket: ${doctorSocketId}`);\n              }\n            }, 1000);\n          }\n        }, 500);\n      } else {\n        // Clear doctor flags for non-doctor users\n        localStorage.setItem('is_doctor', 'false');\n        localStorage.removeItem('doctor_id');\n      }\n      \n      // Store user data in localStorage for app state\n      localStorage.setItem('healthsync_auth', 'true');\n      localStorage.setItem('healthsync_user', JSON.stringify(userInfo));\n      \n      // Get user preferences for dark mode\n      const { data: prefsData } = await supabase\n        .from('user_preferences')\n        .select('enable_dark_mode')\n        .eq('user_id', userData.user_id)\n        .single();\n        \n      if (prefsData) {\n        localStorage.setItem('healthsync_dark_mode', prefsData.enable_dark_mode);\n      }\n      \n      // Update state and redirect\n      setIsAuthenticated(true);\n      setActiveScreen('dashboard');\n    } catch (error) {\n      console.error('Error verifying 2FA:', error.message);\n      setErrorMessage(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // Function to request a verification email\n  const handleResendVerification = async () => {\n    setIsLoading(true);\n    setErrorMessage('');\n    \n    try {\n      const result = await sendVerificationEmail(email);\n      \n      if (result.success) {\n        setVerificationSent(true);\n        setErrorMessage(result.message);\n      } else {\n        setErrorMessage(result.error || 'Failed to send verification email');\n      }\n    } catch (error) {\n      setErrorMessage('An error occurred. Please try again later.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // Get sassy message based on login attempts or error\n  const getSassyMessage = () => {\n    if (errorMessage && !needsVerification && !tfaRequired) {\n      return errorMessage;\n    }\n    \n    if (loginAttempts === 0) return null;\n    \n    const messages = [\n      \"Hmm, that's not quite right. Give it another shot!\",\n      \"Nope! Are you sure you're you? 🤔\",\n      \"Still not working, bestie. Maybe try 'password123'? (Kidding, don't)\",\n      \"OK seriously, do you need the 'forgot password' link? It's right there 👆\",\n      \"At this point, I'm impressed by your persistence. Very admirable.\"\n    ];\n    \n    return messages[Math.min(loginAttempts - 1, messages.length - 1)];\n  };\n  \n  // Calculate dynamic colors for dark mode compatibility\n  const bgGradientStart = isDarkMode ? 'rgba(15, 23, 42, 0.3)' : 'rgba(255, 255, 255, 0.1)';\n  const bgGradientEnd = isDarkMode ? 'rgba(15, 23, 42, 0.1)' : 'rgba(255, 255, 255, 0.1)';\n  const cardBg = isDarkMode ? 'rgba(30, 41, 59, 0.7)' : 'rgba(255, 255, 255, 0.1)';\n  const cardBorder = isDarkMode ? 'rgba(255, 255, 255, 0.05)' : 'rgba(255, 255, 255, 0.2)';\n  const inputBg = isDarkMode ? 'rgba(15, 23, 42, 0.3)' : 'rgba(255, 255, 255, 0.1)';\n  const textColor = isDarkMode ? colors.textPrimary : '#0F172A';\n  const sassyMsgBg = isDarkMode ? 'rgba(15, 23, 42, 0.6)' : 'rgba(255, 255, 255, 0.1)';\n  \n  // Handle forgot password\n  const handleForgotPassword = async () => {\n    if (!email) {\n      setErrorMessage('Please enter your email first');\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      const { error } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${window.location.origin}/reset-password`,\n      });\n      \n      if (error) throw error;\n      \n      alert(`Password reset link sent to ${email}`);\n    } catch (error) {\n      setErrorMessage(error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // Email verification needed component\n  const VerificationNeededMessage = () => (\n    <div className=\"space-y-6 py-2\">\n      <div className=\"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2 dark-mode-transition\"\n           style={{ backgroundColor: colors.warning + '30' }}>\n        <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={colors.warning} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n          <path d=\"M22 12h-4l-3 9L9 3l-3 9H2\"></path>\n        </svg>\n      </div>\n      \n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-bold bg-gradient-to-r from-yellow-200 to-yellow-100 bg-clip-text text-transparent mb-2\">\n          Email Verification Required\n        </h3>\n        <p className=\"text-sm text-white text-opacity-80 mb-6\">\n          Your account exists, but you need to verify your email address <strong>{email}</strong> before you can sign in.\n        </p>\n        \n        {verificationSent ? (\n          <div className=\"p-4 rounded-xl animate-pulse mb-4\" style={{ backgroundColor: colors.success + '20' }}>\n            <p className=\"text-sm\" style={{ color: colors.success }}>\n              Verification email sent! Please check your inbox (including spam folder).\n            </p>\n          </div>\n        ) : (\n          <button\n            onClick={handleResendVerification}\n            disabled={isLoading}\n            className=\"w-full py-3 rounded-xl text-white font-medium transition-all duration-300 flex items-center justify-center dark-mode-transition\"\n            style={{ \n              backgroundColor: colors.warning,\n              boxShadow: `0 4px 12px -2px ${colors.warning}60`\n            }}\n          >\n            {isLoading ? (\n              <div className=\"flex items-center\">\n                <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n                <span>Sending email...</span>\n              </div>\n            ) : (\n              'Resend Verification Email'\n            )}\n          </button>\n        )}\n        \n        {errorMessage && verificationSent && (\n          <p className=\"mt-4 text-sm\" style={{ color: colors.success }}>\n            {errorMessage}\n          </p>\n        )}\n        \n        {errorMessage && !verificationSent && (\n          <p className=\"mt-4 text-sm\" style={{ color: colors.danger }}>\n            {errorMessage}\n          </p>\n        )}\n        \n        <div className=\"mt-6 pt-6 border-t border-white border-opacity-10\">\n          <button\n            onClick={() => {\n              setNeedsVerification(false);\n              setVerificationSent(false);\n              setErrorMessage('');\n            }}\n            className=\"text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors\"\n          >\n            ← Back to sign in\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n  \n  // New: 2FA verification component\n  const TwoFactorVerificationForm = () => (\n    <div className=\"space-y-6 py-2\">\n      <div className=\"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-2 dark-mode-transition\"\n           style={{ backgroundColor: colors.accent + '30' }}>\n        <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" stroke={colors.accent} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n          <rect x=\"3\" y=\"11\" width=\"18\" height=\"11\" rx=\"2\" ry=\"2\"></rect>\n          <path d=\"M7 11V7a5 5 0 0 1 10 0v4\"></path>\n        </svg>\n      </div>\n      \n      <div className=\"text-center\">\n        <h3 className=\"text-xl font-bold bg-gradient-to-r from-blue-200 to-cyan-200 bg-clip-text text-transparent mb-2\">\n          Two-Factor Authentication Required\n        </h3>\n        <p className=\"text-sm text-white text-opacity-80 mb-6\">\n          Please enter the 6-digit code from your authenticator app to complete the sign-in process.\n        </p>\n        \n        {errorMessage && (\n          <div className=\"p-3 rounded-xl backdrop-blur-md mb-4 animate-bounce-once text-center\"\n               style={{ backgroundColor: sassyMsgBg }}>\n            <p className=\"text-sm\" style={{ color: colors.danger }}>\n              {errorMessage}\n            </p>\n          </div>\n        )}\n        \n        <form onSubmit={handleVerifyMFA} className=\"space-y-4\">\n          <div className={`relative rounded-xl overflow-hidden transition-all duration-300 \n                      ${tfaCodeFocused ? 'ring-2 ring-blue-500 shadow-lg' : 'shadow-sm'}`}\n               style={{ \n                 boxShadow: tfaCodeFocused \n                  ? `0 0 15px ${colors.primary}40` \n                  : `0 4px 6px -1px ${colors.primary}10` \n               }}>\n            <input\n              type=\"text\"\n              value={tfaCode}\n              onChange={(e) => setTfaCode(e.target.value.replace(/[^0-9]/g, '').substring(0, 6))}\n              onFocus={() => setTfaCodeFocused(true)}\n              onBlur={() => setTfaCodeFocused(false)}\n              className=\"w-full px-4 py-4 bg-transparent backdrop-blur-md border-none focus:outline-none dark-mode-transition text-center text-2xl tracking-widest font-mono\"\n              style={{ color: colors.textPrimary }}\n              placeholder=\"000000\"\n              maxLength={6}\n              required\n              inputMode=\"numeric\"\n              autoFocus\n            />\n            <div className=\"absolute inset-0 -z-10 dark-mode-transition\" \n                 style={{ background: `linear-gradient(to right, ${colors.primary}15, ${colors.accent}10)` }}></div>\n          </div>\n          \n          <button\n            type=\"submit\"\n            className=\"w-full py-4 rounded-xl text-white font-medium transition-all duration-500 hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center overflow-hidden relative\"\n            style={{ \n              background: `linear-gradient(45deg, ${colors.primary}, ${colors.accent}, ${colors.accentAlt}, ${colors.primary})`,\n              backgroundSize: '300% 300%',\n              animation: 'gradientShift 5s ease infinite',\n              boxShadow: `0 10px 25px -5px ${colors.primary}60, 0 0 15px ${colors.neonAccent}30`\n            }}\n            disabled={isLoading || tfaCode.length !== 6}\n          >\n            <div className=\"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20\"\n                 style={{ \n                   transform: 'translateX(-100%)',\n                   animation: 'shimmerEffect 2.5s infinite'\n                 }}></div>\n            {isLoading ? (\n              <div className=\"flex items-center\">\n                <Loader className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\" />\n                <span>Verifying code...</span>\n              </div>\n            ) : (\n              'Verify & Sign In'\n            )}\n          </button>\n        </form>\n        \n        <div className=\"mt-6 pt-6 border-t border-white border-opacity-10\">\n          <button\n            onClick={() => {\n              setTfaRequired(false);\n              setTfaCode('');\n              setErrorMessage('');\n            }}\n            className=\"text-sm font-medium text-blue-400 hover:text-blue-300 transition-colors\"\n          >\n            ← Back to sign in\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n  \n  return (\n    <div className=\"p-6 pb-8 h-full flex flex-col overflow-hidden relative dark-mode-transition\"\n         style={{\n           background: `radial-gradient(circle at 30% 50%, ${colors.primary}05, transparent 35%),\n                       radial-gradient(circle at 70% 80%, ${colors.accent}05, transparent 35%)`,\n         }}>\n      {/* Animated floating orbs in background - adjusted for dark mode */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        {[...Array(8)].map((_, i) => (\n          <div \n            key={i}\n            className=\"absolute rounded-full opacity-20 dark-mode-transition\"\n            style={{\n              width: Math.random() * 80 + 40 + 'px',\n              height: Math.random() * 80 + 40 + 'px',\n              left: Math.random() * 100 + '%',\n              top: Math.random() * 100 + '%',\n              background: `linear-gradient(135deg, ${colors.primary}80, ${colors.accent}60)`,\n              filter: 'blur(20px)',\n              animation: `float ${Math.random() * 8 + 12}s ease-in-out infinite`,\n              animationDelay: `${Math.random() * 5}s`,\n              transform: `translate3d(${mousePosition.x * -20}px, ${mousePosition.y * -20}px, 0)`\n            }}\n          />\n        ))}\n      </div>\n      \n      <div className=\"flex-1 flex flex-col items-center justify-center z-10\">\n        {/* Logo and app name with enhanced animations */}\n        <div className=\"mb-12 text-center transform-gpu\" \n             style={{ \n               transform: `translate3d(${mousePosition.x * 10}px, ${mousePosition.y * 10}px, 0)`,\n               transition: 'transform 0.1s ease-out'\n             }}>\n          <div className=\"relative mx-auto w-24 h-24 mb-6\">\n            <div className=\"absolute -inset-8 rounded-full animate-pulse opacity-40\"\n                 style={{ \n                   background: `radial-gradient(circle, ${colors.neonAccent}, transparent 50%)`,\n                   filter: 'blur(1px)'\n                 }}></div>\n            \n             <div className=\"w-full h-full rounded-full overflow-hidden flex items-center justify-center shadow-lg dark-mode-transition\" \n                 style={{ \n                   boxShadow: `0 10px 25px -5px ${colors.primary}50, 0 0 15px ${colors.neonAccent}40`\n                 }}>\n              {/* Import the logo correctly in your component or use from public folder */}\n              <img \n                src=\"/logo.jpg\" \n                alt=\"Logo\" \n                className=\"w-full h-full object-cover\"\n              />\n            </div>\n          </div>\n          <h1 className=\"text-4xl font-bold bg-gradient-to-br from-white via-blue-400 to-blue-600 bg-clip-text text-transparent mb-2\">\n            HealthSync\n          </h1>\n          <p className=\"text-base dark-mode-transition\" style={{ color: colors.textSecondary }}>\n            Your <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-400\">AI Health Assistant</span>\n          </p>\n        </div>\n        \n        {/* Sign in form with enhanced glass effects and animations - adapted for dark mode */}\n        <div className=\"w-full max-w-sm relative\" \n             style={{ \n               transform: `translate3d(${mousePosition.x * -5}px, ${mousePosition.y * -5}px, 0)`,\n               transition: 'transform 0.2s ease-out' \n             }}>\n          <div className=\"absolute -inset-6 rounded-3xl opacity-20 bg-blue-500 blur-xl dark-mode-transition\"></div>\n          <div className=\"relative p-6 rounded-2xl backdrop-blur-md border dark-mode-transition\"\n               style={{ \n                 background: cardBg, \n                 borderColor: cardBorder,\n                 boxShadow: `\n                   0 10px 25px -5px rgba(0, 0, 0, 0.1),\n                   0 0 10px ${colors.primary}20\n                 `\n               }}>\n            \n            {/* Error/Sassy message that appears on failed logins */}\n            {getSassyMessage() && !needsVerification && !tfaRequired && (\n              <div className=\"p-3 rounded-xl backdrop-blur-md mb-4 animate-bounce-once text-center dark-mode-transition\"\n                   style={{ backgroundColor: sassyMsgBg }}>\n                <p className=\"text-sm dark-mode-transition\" style={{ color: isDarkMode ? colors.textPrimary : textColor }}>\n                  {getSassyMessage()}\n                </p>\n              </div>\n            )}\n            \n            {needsVerification ? (\n              <VerificationNeededMessage />\n            ) : tfaRequired ? (\n              <TwoFactorVerificationForm />\n            ) : (\n              <form onSubmit={handleSignIn} className=\"space-y-6\">\n                <div className=\"space-y-1\">\n                  <div className=\"flex justify-between items-center\">\n                    <label className={`block text-sm font-medium transition-all duration-300 ${emailFocused ? 'text-blue-500' : ''}`}\n                           style={{ color: emailFocused ? colors.accent : colors.textPrimary }}>\n                      Email\n                    </label>\n                    \n                    <span className=\"text-xs cursor-pointer dark-mode-transition\" style={{ color: colors.textSecondary }}>\n                      Try demo@healthsync.com\n                    </span>\n                  </div>\n                  <div className={`relative rounded-xl overflow-hidden transition-all duration-300 \n                      ${emailFocused ? 'ring-2 ring-blue-500 shadow-lg' : 'shadow-sm'}`}\n                       style={{ \n                         boxShadow: emailFocused \n                          ? `0 0 15px ${colors.primary}40` \n                          : `0 4px 6px -1px ${colors.primary}10` \n                       }}>\n                    <input\n                      type=\"email\"\n                      value={email}\n                      onChange={(e) => setEmail(e.target.value)}\n                      onFocus={() => setEmailFocused(true)}\n                      onBlur={() => setEmailFocused(false)}\n                      className=\"w-full px-4 py-4 bg-transparent backdrop-blur-md border-none focus:outline-none dark-mode-transition\"\n                      style={{ color: colors.textPrimary }}\n                      placeholder=\"name@example.com\"\n                      required\n                    />\n                    <div className=\"absolute inset-0 -z-10 dark-mode-transition\" \n                         style={{ background: `linear-gradient(to right, ${colors.primary}15, ${colors.accent}10)` }}></div>\n                  </div>\n                </div>\n                \n                <div className=\"space-y-1\">\n                  <div className=\"flex justify-between items-center\">\n                    <label className={`block text-sm font-medium transition-all duration-300 ${passwordFocused ? 'text-blue-500' : ''}`}\n                           style={{ color: passwordFocused ? colors.accent : colors.textPrimary }}>\n                      Password\n                    </label>\n                    <button \n                      type=\"button\" \n                      onClick={handleForgotPassword}\n                      className=\"text-xs font-medium transition-all duration-300 hover:text-blue-400\"\n                      style={{ color: colors.primary }}>\n                      Forgot password?\n                    </button>\n                  </div>\n                  <div className={`relative rounded-xl overflow-hidden transition-all duration-300 \n                      ${passwordFocused ? 'ring-2 ring-blue-500 shadow-lg' : 'shadow-sm'}`}\n                       style={{ \n                         boxShadow: passwordFocused \n                          ? `0 0 15px ${colors.primary}40` \n                          : `0 4px 6px -1px ${colors.primary}10` \n                       }}>\n                    <input\n                      type={showPassword ? \"text\" : \"password\"}\n                      value={password}\n                      onChange={(e) => setPassword(e.target.value)}\n                      onFocus={() => setPasswordFocused(true)}\n                      onBlur={() => setPasswordFocused(false)}\n                      className=\"w-full px-4 py-4 bg-transparent backdrop-blur-md border-none focus:outline-none pr-12 dark-mode-transition\"\n                      placeholder={loginAttempts > 2 ? \"Hint: try 'demo'\" : \"••••••••\"}\n                      required\n                      style={{ color: colors.textPrimary }}\n                    />\n                    <button \n                      type=\"button\"\n                      className=\"absolute right-3 top-1/2 transform -translate-y-1/2 opacity-70 hover:opacity-100 transition-opacity dark-mode-transition\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      style={{ color: colors.textPrimary }}\n                    >\n                      {showPassword ? (\n                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                          <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\"></path>\n                          <circle cx=\"12\" cy=\"12\" r=\"3\"></circle>\n                        </svg>\n                      ) : (\n                        <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                          <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\"></path>\n                          <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\"></line>\n                        </svg>\n                      )}\n                    </button>\n                    <div className=\"absolute inset-0 -z-10 dark-mode-transition\" \n                         style={{ background: `linear-gradient(to right, ${colors.primary}15, ${colors.accent}10)` }}></div>\n                  </div>\n                </div>\n\n                {/* Demo logins with explanation */}\n                <div className=\"bg-blue-500 bg-opacity-10 p-2 rounded-md text-xs\">\n                  <p className=\"mb-1 text-blue-300\">Quick Login Options:</p>\n                  <p className=\"mb-1\">• Patient: <strong>demo@healthsync.com</strong> / <strong>demo</strong></p>\n                  <p>• Doctor: <strong>doctor@healthsync.com</strong> / <strong>doctor</strong></p>\n                </div>\n                \n                <button\n                  type=\"submit\"\n                  className=\"w-full py-4 rounded-xl text-white font-medium transition-all duration-500 hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center overflow-hidden relative\"\n                  style={{ \n                    background: `linear-gradient(45deg, ${colors.primary}, ${colors.accent}, ${colors.accentAlt}, ${colors.primary})`,\n                    backgroundSize: '300% 300%',\n                    animation: 'gradientShift 5s ease infinite',\n                    boxShadow: `0 10px 25px -5px ${colors.primary}60, 0 0 15px ${colors.neonAccent}30`\n                  }}\n                  disabled={isLoading}\n                >\n                  <div className=\"absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white to-transparent opacity-20\"\n                       style={{ \n                         transform: 'translateX(-100%)',\n                         animation: 'shimmerEffect 2.5s infinite'\n                       }}></div>\n                  {isLoading ? (\n                    <div className=\"flex items-center\">\n                      <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2\"></div>\n                      <span>{loginAttempts > 1 ? \"Let's hope it works this time...\" : \"Signing in...\"}</span>\n                    </div>\n                  ) : (\n                    loginAttempts > 2 ? \"Oh alright, let me in\" : \"Sign in\"\n                  )}\n                </button>\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"mt-8 text-center z-10\">\n        <p className=\"text-sm dark-mode-transition\" style={{ color: colors.textSecondary }}>\n          Need an account? {' '}\n          <button \n            onClick={() => setActiveScreen('register')}\n            className=\"font-medium transition-all duration-300 hover:text-blue-300 relative\"\n            style={{ color: colors.accent }}\n          >\n            Create one in 10 seconds\n            <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-blue-400 transform scale-x-0 origin-left transition-transform duration-300 hover:scale-x-100\"></span>\n          </button>\n        </p>\n      </div>\n      \n      <style jsx>{`\n        @keyframes gradientShift {\n          0% { background-position: 0% 50% }\n          50% { background-position: 100% 50% }\n          100% { background-position: 0% 50% }\n        }\n        @keyframes shimmerEffect {\n          100% { transform: translateX(100%); }\n        }\n        @keyframes float {\n          0% { transform: translateY(0px) translateX(0px); }\n          50% { transform: translateY(-20px) translateX(10px); }\n          100% { transform: translateY(0px) translateX(0px); }\n        }\n        @keyframes bounce-once {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-10px); }\n        }\n        input::placeholder {\n          color: rgba(255, 255, 255, 0.5);\n        }\n        .animate-bounce-once {\n          animation: bounce-once 0.8s ease;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default SignInScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}